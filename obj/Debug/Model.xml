<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.9" DspName="Microsoft.Data.Tools.Schema.Sql.Sql150DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="150" />
		</CustomData>
		<CustomData Category="Reference" Type="SqlSchema">
			<Metadata Name="FileName" Value="C:\PROGRAM FILES\MICROSOFT VISUAL STUDIO\2022\ENTERPRISE\COMMON7\IDE\EXTENSIONS\MICROSOFT\SQLDB\EXTENSIONS\SQLSERVER\130\SQLSCHEMAS\MASTER.DACPAC" />
			<Metadata Name="LogicalName" Value="master.dacpac" />
			<Metadata Name="ExternalParts" Value="[master]" />
			<Metadata Name="SuppressMissingDependenciesErrors" Value="False" />
		</CustomData>
		<CustomData Category="Reference" Type="SqlSchema">
			<Metadata Name="FileName" Value="C:\PROGRAM FILES\MICROSOFT VISUAL STUDIO\2022\ENTERPRISE\COMMON7\IDE\EXTENSIONS\MICROSOFT\SQLDB\EXTENSIONS\SQLSERVER\130\SQLSCHEMAS\MSDB.DACPAC" />
			<Metadata Name="LogicalName" Value="msdb.dacpac" />
			<Metadata Name="ExternalParts" Value="[msdb]" />
			<Metadata Name="SuppressMissingDependenciesErrors" Value="False" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="shopping_database.dll" />
			<Metadata Name="FileName" Value="N:\PROJECTS\SHOPPING-DATABASE\OBJ\DEBUG\SHOPPING_DATABASE.DLL" />
			<Metadata Name="AssemblyName" Value="shopping_database" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="N:\Projects\shopping-database\obj\Debug\shopping_database.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
			<Property Name="QueryStoreStaleQueryThreshold" Value="367" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlSchema" Name="[admin]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[admin].[ApplyStaticData]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters now to avoid build issues.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @entry_tran_count			INT					= @@TRANCOUNT
		DECLARE @sql						NVARCHAR(MAX)

		--! Ensure have required parameters.
		IF @SchemaName IS NULL OR @TableName IS NULL 
			BEGIN
				SET @ReturnCode = -1
				RETURN @ReturnCode
			END

		--! Retrieve information to facilitate building of merge statement.
		SELECT
					@sql = sds.[Statement]
			FROM	[internal].[UdfGetStaticDataStatement](@SchemaName,@TableName) sds

		--! Ensure match found.
		IF @@ROWCOUNT <> 1
			BEGIN
				SET @ReturnCode = -3
				RETURN @ReturnCode
			END

		--! Start transaction unless one already exists.
		IF @entry_tran_count = 0
			BEGIN TRANSACTION

		--! Display and/or execute statement based on parameter.
		PRINT 'Populating table ' + [internal].[UdfGetObjectName](@SchemaName,@TableName)

		IF @PrintCommands = 1
			EXEC [internal].[LongPrint] @String = @sql

		IF @PrintCommandsOnly = 0
			EXEC sp_executesql @sql

		--! If we started the transaction then commit, unless in debug mode, otherwise leave to caller.			
		IF @entry_tran_count = 0
			COMMIT TRANSACTION

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[admin].[ApplyStaticData].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[admin].[ApplyStaticData].[@SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[ApplyStaticData].[@TableName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[UdfGetStaticDataStatement]" />
				</Entry>
				<Entry>
					<References Name="[internal].[UdfGetStaticDataStatement].[Statement]" />
				</Entry>
				<Entry>
					<References Name="[internal].[UdfGetObjectName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[ApplyStaticData].[@PrintCommands]" />
				</Entry>
				<Entry>
					<References Name="[internal].[LongPrint]" />
				</Entry>
				<Entry>
					<References Name="[internal].[LongPrint].[@String]" />
				</Entry>
				<Entry>
					<References Name="[admin].[ApplyStaticData].[@PrintCommandsOnly]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sp_executesql]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[ApplyStaticData].[@SchemaName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[ApplyStaticData].[@TableName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[ApplyStaticData].[@PrintCommands]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[ApplyStaticData].[@PrintCommandsOnly]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[ApplyStaticData].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[admin]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1835" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [admin].[ApplyStaticData]&#xD;&#xA;&#x9;  @SchemaName&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SYSNAME&#xD;&#xA;&#x9;, @TableName&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SYSNAME&#xD;&#xA;&#x9;, @PrintCommands&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;BIT&#x9;&#x9;&#x9;&#x9;&#x9;= 0&#x9;&#x9;&#x9;--! values: 0=do not print sql, 1=print sql&#xD;&#xA;&#x9;, @PrintCommandsOnly&#x9;&#x9;&#x9;&#x9;&#x9;BIT&#x9;&#x9;&#x9;&#x9;&#x9;= 0&#x9;&#x9;&#x9;--! values: 0=execute, 1=print only&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[admin].[DFStaticDataIsTestData]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[admin].[StaticData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[admin].[StaticData].[IsTestData]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="24" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[admin].[FKStaticDataSDependencieStaticDataId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[admin].[StaticDataDependencies].[StaticDataId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[admin].[StaticDataDependencies]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[admin].[StaticData].[StaticDataId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[admin].[StaticData]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="25" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[admin].[FKStaticDataStatementsStaticDataId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[admin].[StaticDataStatements].[StaticDataId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[admin].[StaticDataStatements]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[admin].[StaticData].[StaticDataId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[admin].[StaticData]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="26" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[admin].[PK_static_data]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[admin].[StaticData].[StaticDataId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[admin].[StaticData]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="27" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[admin].[PKStaticDataDependencies]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[admin].[StaticDataDependencies].[StaticDataId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[admin].[StaticDataDependencies].[FunctionName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[admin].[StaticDataDependencies]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="28" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[admin].[PKStaticDataStatements]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[admin].[StaticDataStatements].[StaticDataId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[admin].[StaticDataStatements]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="29" />
		</Element>
		<Element Type="SqlProcedure" Name="[admin].[PopulateStaticData]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters now to avoid build issues.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount			INT					= @@TRANCOUNT
		DECLARE @SchemaName				SYSNAME
		DECLARE @TableName					SYSNAME
		DECLARE @Sql						NVARCHAR(MAX)
		DECLARE @Params						NVARCHAR(MAX)
		DECLARE @Now						DATETIME2			= GETDATE()	--! Needs to be system rather than local time.
		DECLARE @LastPopulateTime			DATETIME2			= [internal].[GetPopulateSetting]()
		DECLARE @procedure					SYSNAME
		DECLARE @tables						TABLE
			(
				  [SchemaName]				SYSNAME
				, [TableName]				SYSNAME
				, [Precedence]				TINYINT
			)

		--! Set change period to number of hours earlier.
		SET @LastPopulateTime = ISNULL(@LastPopulateTime,DATEADD(HOUR,ISNULL(@ChangePeriod,1) * -1,@Now))

		--! Start transaction unless one already exists.
		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		EXEC [data].[PopulateStaticData]
		EXEC [data].[PopulateStaticDataStatements]
		EXEC [data].[PopulateStaticDataDependencies]

		--! Execute all or modified data in precence order.
		--! Do not deploy test data to production environments.
		IF @StaticDataId IS NOT NULL
			BEGIN
				INSERT INTO @tables
					(
							  [SchemaName]
							, [TableName]
							, [precedence]
					)
					SELECT	
							  sd.[SchemaName]
							, sd.[TableName]
							, sd.[Precedence]
					FROM	[admin].[StaticData] sd
					WHERE	sd.[StaticDataId] = @StaticDataId
					 AND	[IsTestData] = 0 
			END
		ELSE
			BEGIN
				INSERT INTO @tables
					(
							  [SchemaName]
							, [TableName]
							, [Precedence]
					)
					SELECT	
							  sd.[SchemaName]
							, sd.[TableName]
							, sd.[Precedence]
					FROM	[admin].[StaticData] sd
					WHERE	( @ChangesOnly = 0
						OR	  EXISTS
								(
									SELECT	1
									FROM	[admin].[StaticDataDependencies] sdd
											CROSS APPLY [internal].[SplitObjectName](sdd.[FunctionName]) pn
											INNER JOIN [internal].[GetModifiedCode]() mc
												ON	mc.[SchemaName] = pn.[SchemaName]
												AND	mc.[ObjectName] = pn.[ObjectName]
									WHERE	sdd.[StaticDataId] = sd.[StaticDataId]
										AND	mc.[modify_date] >= @LastPopulateTime
								)
							)
					 AND	[IsTestData] >= @TestDataOnly
					 AND	[IsTestData] = 0 
			END

		--! Process in sequence.
		DECLARE csr CURSOR LOCAL FAST_FORWARD READ_ONLY FOR 
			SELECT	
					  [SchemaName]
					, [TableName]
			FROM	@tables
			ORDER BY
					  [Precedence]
					, [SchemaName]
					, [TableName]

		OPEN csr
		FETCH NEXT FROM csr INTO @SchemaName, @TableName
		WHILE @@FETCH_STATUS = 0
			BEGIN
				SET @Sql = N'EXEC [Admin].[ApplyStaticData] @SchemaName = ' + @SchemaName + N' , @TableName = ' + @TableName + N', @PrintCommands = ' + CONVERT(NVARCHAR,@PrintCommands)  + N', @PrintCommandsOnly = ' + CONVERT(NVARCHAR,@PrintCommandsOnly)
				SET @Params = N''

				EXEC sp_executesql @stmt = @Sql, @Params = @Params

				FETCH NEXT FROM csr INTO @SchemaName, @TableName
			END
		CLOSE csr
		DEALLOCATE csr

		--! Capture successful run.
		EXEC [internal].[SetSetting]
			  @name = N'Populate'
			, @value = @Now

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	ErrorExit:
		--! Raise error condition.
		RAISERROR('Procedure %s returned error code %d', 16, 0, @procedure, @ReturnCode)

	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime2]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime2]" />
				</Entry>
				<Entry>
					<References Name="[internal].[GetPopulateSetting]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@ChangePeriod]" />
				</Entry>
				<Entry>
					<References Name="[data].[PopulateStaticData]" />
				</Entry>
				<Entry>
					<References Name="[data].[PopulateStaticDataStatements]" />
				</Entry>
				<Entry>
					<References Name="[data].[PopulateStaticDataDependencies]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@tables].[SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@tables].[TableName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@tables].[Precedence]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[TableName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[Precedence]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[IsTestData]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@ChangesOnly]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataDependencies]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataDependencies].[FunctionName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[GetModifiedCode]" />
				</Entry>
				<Entry>
					<References Name="[internal].[GetModifiedCode].[SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName].[SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[GetModifiedCode].[ObjectName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName].[ObjectName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataDependencies].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[GetModifiedCode].[modify_date]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@TestDataOnly]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@PrintCommands]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[admin].[PopulateStaticData].[@PrintCommandsOnly]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sp_executesql]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[internal].[SetSetting]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SetSetting].[@name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SetSetting].[@value]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[admin].[PopulateStaticData].[@tables]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[admin].[PopulateStaticData].[@tables].[SchemaName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[admin].[PopulateStaticData].[@tables].[TableName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[admin].[PopulateStaticData].[@tables].[Precedence]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[tinyint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[PopulateStaticData].[@ChangesOnly]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[PopulateStaticData].[@ChangePeriod]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[PopulateStaticData].[@TestDataOnly]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[PopulateStaticData].[@StaticDataId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[PopulateStaticData].[@PrintCommands]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[PopulateStaticData].[@PrintCommandsOnly]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[admin].[PopulateStaticData].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[admin]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4329" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [admin].[PopulateStaticData]&#xD;&#xA;&#x9;  @ChangesOnly&#x9;&#x9;&#x9;BIT&#x9;&#x9;&#x9;&#x9;&#x9;= 1&#x9;&#x9;&#x9;--! true only apply modified data changes and false to populate everything&#xD;&#xA;&#x9;, @ChangePeriod&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= 1&#x9;&#x9;&#x9;--! number of hours to consider changed&#xD;&#xA;&#x9;, @TestDataOnly&#x9;&#x9;&#x9;BIT&#x9;&#x9;&#x9;&#x9;&#x9;= 0&#x9;&#x9;&#x9;--! trune to apply test data only&#xD;&#xA;&#x9;, @StaticDataId&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;&#x9;--! execute specific table only&#xD;&#xA;&#x9;, @PrintCommands&#x9;&#x9;BIT&#x9;&#x9;&#x9;&#x9;&#x9;= 0&#x9;&#x9;&#x9;--! values: 0=do not print sql, 1=print sql&#xD;&#xA;&#x9;, @PrintCommandsOnly&#x9;BIT&#x9;&#x9;&#x9;&#x9;&#x9;= 0&#x9;&#x9;&#x9;--! values: 0=execute, 1=print only&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[admin].[StaticData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticData].[StaticDataId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticData].[SchemaName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticData].[TableName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticData].[Precedence]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticData].[IsTestData]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="24" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[admin]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="27" />
		</Element>
		<Element Type="SqlTable" Name="[admin].[StaticDataDependencies]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticDataDependencies].[StaticDataId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticDataDependencies].[FunctionName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[admin]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="28" />
			<AttachedAnnotation Disambiguator="25" />
		</Element>
		<Element Type="SqlTable" Name="[admin].[StaticDataStatements]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticDataStatements].[StaticDataId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[admin].[StaticDataStatements].[Statement]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[admin]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="29" />
			<AttachedAnnotation Disambiguator="26" />
		</Element>
		<Element Type="SqlSchema" Name="[data]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[data].[PopulateStaticData]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters now to avoid build issues.
	SET @return_code = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @entry_tran_count			INT					= @@TRANCOUNT

		--! Start transaction unless one already exists.
		IF @entry_tran_count = 0 
			BEGIN TRANSACTION

		MERGE INTO [admin].[StaticData] AS Target
			USING
				(
					VALUES
						  (100 , 'dbo', 'SuperMarket', 10, 0)
						, (200 , 'dbo', 'Category' , 10, 0) 
						, (300 , 'dbo', 'Area' , 10, 0) 
						, (400 , 'dbo', 'Product'  , 10, 0) 
						, (500 , 'dbo', 'CategorySuperMarket'  , 10, 0) 
						, (600 , 'dbo', 'Uom'  , 10, 0) 
				) AS Source 
				(
						  [StaticDataId]
						, [SchemaName]
						, [TableName]
						, [Precedence]
						, [IsTestData]
				)
			ON
				(
						Target.[StaticDataId] = Source.[StaticDataId]
				)
			WHEN NOT MATCHED BY TARGET THEN
				INSERT
				(
						  [StaticDataId]
						, [SchemaName]
						, [TableName]
						, [Precedence]
						, [IsTestData]
				)
				VALUES
				(
						  Source.[StaticDataId]
						, Source.[SchemaName]
						, Source.[TableName]
						, Source.[Precedence]
						, Source.[IsTestData]
				)
			WHEN MATCHED AND 
				(	
					SELECT	HASHBYTES
								(
									  'SHA1' 
									, (	
										SELECT	  
												  Source.[SchemaName]
												, Source.[TableName]
												, Source.[Precedence]
												, Source.[IsTestData]
										FOR XML RAW
									  )
								)
				) <>
				(	
					SELECT	HASHBYTES
								(
									  'SHA1' 
									, (	
										SELECT	  
												  Target.[SchemaName]
												, Target.[TableName]
												, Target.[Precedence]
												, Target.[IsTestData]
										FOR XML RAW
									  )
								)
				) THEN 
				UPDATE 
					SET        
						  [SchemaName] = Source.[SchemaName]
						, [TableName] = Source.[TableName]
						, [Precedence] = Source.[Precedence]
						, [IsTestData] = Source.[IsTestData]
			WHEN NOT MATCHED BY SOURCE THEN
				DELETE
			;

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @entry_tran_count = 0 
			COMMIT
		
		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[data].[PopulateStaticData].[@return_code]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[StaticDataId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[admin].[StaticData].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[TableName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[Precedence]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[IsTestData]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[admin].[StaticData].[SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[TableName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[Precedence]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[IsTestData]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[PopulateStaticData].[@return_code]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2591" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [data].[PopulateStaticData]&#xD;&#xA;&#x9;  @return_code&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[data].[PopulateStaticDataDependencies]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters now to avoid build issues.
	SET @return_code = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @entry_tran_count			INT					= @@TRANCOUNT

		--! Start transaction unless one already exists.
		IF @entry_tran_count = 0 
			BEGIN TRANSACTION

		MERGE INTO [admin].[StaticDataDependencies] AS Target
			USING
				(
					VALUES
						  (100 , '[data].[UdfPopulateSuperMarkets]')
						, (200 , '[data].[UdfPopulateCategories]') 
						, (300 , '[data].[UdfPopulateAreas]') 
						, (400 , '[data].[UdfPopulateProducts]') 
						, (500 , '[data].[UdfPopulateCategorySuperMarket]') 
						, (600 , '[data].[UdfPopulateUom]') 
				) AS Source 
				(
						  [StaticDataId]
						, [FunctionName]
				)
			ON
				(
						Target.[StaticDataId] = Source.[StaticDataId]
					AND	Target.[FunctionName] = Source.[FunctionName]
				)
			WHEN NOT MATCHED BY TARGET THEN
				INSERT
				(
						  [StaticDataId]
						, [FunctionName]
				)
				VALUES
				(
						  Source.[StaticDataId]
						, Source.[FunctionName]
				)
			WHEN NOT MATCHED BY SOURCE THEN
				DELETE
			;

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @entry_tran_count = 0 
			COMMIT
		
		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[data].[PopulateStaticDataDependencies].[@return_code]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataDependencies]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataDependencies].[StaticDataId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[admin].[StaticDataDependencies].[FunctionName]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[admin].[StaticDataDependencies].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataDependencies].[FunctionName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[PopulateStaticDataDependencies].[@return_code]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1674" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [data].[PopulateStaticDataDependencies]&#xD;&#xA;&#x9;  @return_code&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[data].[PopulateStaticDataStatements]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters now to avoid build issues.
	SET @return_code = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @entry_tran_count			INT					= @@TRANCOUNT

		--! Start transaction unless one already exists.
		IF @entry_tran_count = 0 
			BEGIN TRANSACTION

		MERGE INTO [admin].[StaticDataStatements] AS Target
			USING
				(
					VALUES
						  (100 , '
									MERGE INTO [dbo].[SuperMarket] AS Target
										USING
										(
											SELECT	
													  [SuperMarketId]
													, [Name]
											FROM	[data].[UdfPopulateSuperMarkets](NULL)
										) AS Source 
										ON
											(
													Target.[SuperMarketId] = Source.[SuperMarketId]
											)
										WHEN NOT MATCHED BY TARGET THEN
											INSERT
											(
													  [SuperMarketId]
													, [Name]
											)
											VALUES
											(
													  Source.[SuperMarketId]
													, Source.[Name]
											)
										WHEN MATCHED THEN
											UPDATE
											SET
													  [Name] = Source.[Name]
										;
						  ')
						, (200 , '
									MERGE INTO [dbo].[Category] AS Target
										USING
										(
											SELECT	
													  [CategoryId]
													, [Name]
													, [IsShipped]
											FROM	[data].[UdfPopulateCategories](NULL)
										) AS Source 
										ON
											(
													Target.[CategoryId] = Source.[CategoryId]
											)
										WHEN NOT MATCHED BY TARGET THEN
											INSERT
											(
													  [CategoryId]
													, [Name]
													, [IsShipped]
											)
											VALUES
											(
													  Source.[CategoryId]
													, Source.[Name]
													, Source.[IsShipped]
											)
										WHEN MATCHED THEN
											UPDATE
											SET
													  [Name] = Source.[Name]
													, [IsShipped] = Source.[IsShipped]
										WHEN NOT MATCHED BY SOURCE THEN
											DELETE
										;
						') 
						, (300 , '
									MERGE INTO [dbo].[Area] AS Target
										USING
										(
											SELECT	
													  [AreaId]
													, [Name]
													, [IsShipped]
											FROM	[data].[UdfPopulateAreas](NULL)
										) AS Source 
										ON
											(
													Target.[AreaId] = Source.[AreaId]
											)
										WHEN NOT MATCHED BY TARGET THEN
											INSERT
											(
													  [AreaId]
													, [Name]
													, [IsShipped]
											)
											VALUES
											(
													  Source.[AreaId]
													, Source.[Name]
													, Source.[IsShipped]
											)
										WHEN MATCHED THEN
											UPDATE
											SET
													  [Name] = Source.[Name]
													, [IsShipped] = Source.[IsShipped]
										WHEN NOT MATCHED BY SOURCE THEN
											DELETE
										;
						') 
						, (400 , '
									MERGE INTO [dbo].[Product] AS Target
										USING
										(
											SELECT	
													  [Name]
													, [IsShipped]
													, [CategoryId]
													, [AreaId]
											FROM	[data].[UdfPopulateProducts](NULL)
										) AS Source 
										ON
											(
													Target.[Name] = Source.[Name]
											)
										WHEN NOT MATCHED BY TARGET THEN
											INSERT
											(
													  [Name]
													, [IsShipped]
													, [CategoryId]
													, [AreaId]
											)
											VALUES
											(
													  Source.[Name]
													, Source.[IsShipped]
													, Source.[CategoryId]
													, Source.[AreaId]
											)
										WHEN MATCHED THEN
											UPDATE
											SET
													  [Name] = Source.[Name]
													, [IsShipped] = Source.[IsShipped]
													, [CategoryId] = Source.[CategoryId]
													, [AreaId] = Source.[AreaId]
										WHEN NOT MATCHED BY SOURCE 
											AND Target.IsShipped = 1
										THEN
											DELETE
										;
						')						
						, (500 , '
									MERGE INTO [dbo].[CategorySuperMarket] AS Target
										USING
										(
											SELECT	
													  [CategoryId]
													, [SuperMarketId]
													, [AisleLabel]
													, [Sequence]
											FROM	[data].[UdfPopulateCategorySuperMarket]()
										) AS Source 
										ON
											(
													Target.[CategoryId] = Source.[CategoryId]
													AND Target.[SuperMarketId] = Source.[SuperMarketId]
											)
										WHEN NOT MATCHED BY TARGET THEN
											INSERT
											(
													  [CategoryId]
													, [SuperMarketId]
													, [AisleLabel]
													, [Sequence]
											)
											VALUES
											(
													  Source.[CategoryId]
													, Source.[SuperMarketId]
													, Source.[AisleLabel]
													, Source.[Sequence]
											)
										WHEN MATCHED THEN
											UPDATE
											SET
													  [AisleLabel] = Source.[AisleLabel]
													, [Sequence] = Source.[Sequence]
										WHEN NOT MATCHED BY SOURCE THEN
											DELETE
										;
						')						
						, (600 , '
									MERGE INTO [dbo].[Uom] AS Target
										USING
										(
											SELECT	
													  [Name]
											FROM	[data].[UdfPopulateUom](NULL)
										) AS Source 
										ON
											(
													Target.[Name] = Source.[Name]
											)
										WHEN NOT MATCHED BY TARGET THEN
											INSERT
											(
													  [Name]
											)
											VALUES
											(
													  Source.[Name]
											)
										WHEN MATCHED THEN
											UPDATE
											SET
													  [Name] = Source.[Name]
										WHEN NOT MATCHED BY SOURCE THEN
											DELETE
										;
						')						
				) AS Source 
				(
						  [StaticDataId]
						, [Statement]
				)
			ON
				(
						Target.[StaticDataId] = Source.[StaticDataId]
				)
			WHEN NOT MATCHED BY TARGET THEN
				INSERT
				(
						  [StaticDataId]
						, [Statement]
				)
				VALUES
				(
						  Source.[StaticDataId]
						, Source.[Statement]
				)
			WHEN MATCHED THEN
				UPDATE 
					SET        
						  [Statement] = Source.[Statement]
			WHEN NOT MATCHED BY SOURCE THEN
				DELETE
			;

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @entry_tran_count = 0 
			COMMIT
		
		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[data].[PopulateStaticDataStatements].[@return_code]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataStatements]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataStatements].[StaticDataId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[admin].[StaticDataStatements].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataStatements].[Statement]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[PopulateStaticDataStatements].[@return_code]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="6933" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [data].[PopulateStaticDataStatements]&#xD;&#xA;&#x9;  @return_code&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[data].[UdfPopulateAreas]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[data].[UdfPopulateAreas].[@AreaId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateAreas].[AreaId]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateAreas].[Name]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateAreas].[IsShipped]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
			  [AreaId]
			, [Name]
			, [IsShipped]
	FROM	(
				VALUES
					  (1, 'Fridge', 1)
					, (2, 'Freezer', 1)
					, (3, 'Kitchen Pantry', 1)
					, (4, 'Kitchen Cleaners', 1)
					, (5, 'Lounge', 1)
					, (6, 'Laundry', 1)
					, (7, 'Bathroom', 1)
					, (8, 'Garage', 1)
					, (9, 'Bedroom', 1)
			) AS Source 
			(
				  [AreaId]
				, [Name]
				, [IsShipped]
			)
	WHERE	[AreaId] = ISNULL(@AreaId,[AreaId])
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="538" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [data].[UdfPopulateAreas]&#xD;&#xA;(&#xD;&#xA;&#x9;@AreaId INT&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[UdfPopulateAreas].[@AreaId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[data].[UdfPopulateCategories]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[data].[UdfPopulateCategories].[@CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateCategories].[CategoryId]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateCategories].[Name]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateCategories].[IsShipped]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
			  [CategoryId]
			, [Name]
			, [IsShipped]
	FROM	(
				VALUES
					  (1 , 'Vege', 1)
					, (2 , 'Butchery', 1)
					, (3 , 'Seafood', 1)
					, (4 , 'Deli', 1)
					, (5 , 'Bakery', 1)
					, (6 , 'Dairy and Eggs', 1)
					, (7 , 'Desserts', 1)
					, (8 , 'Frozen Vege', 1)
					, (9 , 'Baking', 1)
					, (10, 'Breakfast Cereals', 1)
					, (11, 'Canned Vege', 1)
					, (12, 'Canned Fruit', 1)
					, (13, 'Canned Other', 1)
					, (14, 'Sauces and Dressings', 1)
					, (15, 'Confectionary', 1)
					, (16, 'Drinks', 1)
					, (17, 'Jams, Spreads and Dips', 1)
					, (18, 'Pasta, Rice and Noodles', 1)
					, (19, 'Salad and Cooking Oils', 1)
					, (20, 'Snack Foods', 1)
					, (21, 'Spices and Seasonings', 1)
					, (22, 'Alcohol', 1)
					, (23, 'Oral Health', 1)
					, (24, 'Deoderants and Soaps', 1)
					, (25, 'Hair Care', 1)
					, (26, 'Face and Lip Care', 1)
					, (27, 'Suncare', 1)
					, (28, 'Cleaning', 1)
					, (29, 'Outdoor', 1)
					, (30, 'Laundry', 1)
					, (31, 'Fruit', 1)
					, (32, 'Nuts, Seeds and Lentils', 1)
					, (33, 'Biscuits', 1)
					, (34, 'Tissue', 1)
					, (35, 'Milks', 1)
					, (36, 'Frozen Fruit', 1)
					, (37, 'Medicines', 1)
					, (38, 'Customer Service', 1)
			) AS Source 
			(
				  [CategoryId]
				, [Name]
				, [IsShipped]
			)
	WHERE	[CategoryId] = ISNULL(@CategoryId,[CategoryId])
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1514" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [data].[UdfPopulateCategories]&#xD;&#xA;(&#xD;&#xA;&#x9;@CategoryId INT&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[UdfPopulateCategories].[@CategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[data].[UdfPopulateCategorySuperMarket]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateCategorySuperMarket].[CategoryId]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateCategorySuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateCategorySuperMarket].[AisleLabel]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateCategorySuperMarket].[Sequence]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
			  [CategoryId]
			, [SuperMarketId]
			, [AisleLabel]
			, [Sequence]
	FROM	(
				VALUES
                       (1, 1, 'Fruit and Vege', 1)
                     , (2, 1, 'Butchery', 2)
                     , (3, 1, 'Seafood', 3)
                     , (4, 1, 'Delicatesan', 4)
                     , (5, 1, 'Bakery', 6)
                     , (6, 1, 'Dairy', 5)
                     , (7, 1, '7', 8)
                     , (8, 1, 'Frozen', 18)
                     , (9, 1, '8', 9)
                     , (10, 1, '10', 11)
                     , (11, 1, '7', 8)
                     , (12, 1, '7', 8)
                     , (13, 1, '7', 8)
                     , (14, 1, '11', 12)
                     , (15, 1, '13', 14)
                     , (16, 1, '5', 7)
                     , (17, 1, '11', 12)
                     , (18, 1, '9', 10)
                     , (19, 1, '9', 10)
                     , (20, 1, '13', 14)
                     , (21, 1, '11', 12)
                     , (22, 1, '17', 17)
                     , (23, 1, '14', 15)
                     , (24, 1, '14', 15)
                     , (25, 1, '14', 15)
                     , (26, 1, '14', 15)
                     , (27, 1, '14', 15)
                     , (28, 1, '12', 13)
                     , (29, 1, '13', 14)
                     , (30, 1, '12', 13)
                     , (31, 1, 'Fruit and Vege', 1)
                     , (32, 1, 'Bulk', 1)
                     , (33, 1, '15', 16)
                     , (34, 1, '14', 15)
                     , (35, 1, '7', 8)
                     , (36, 1, 'Frozen', 18)
                     , (37, 1, '14', 15)	
                     , (38, 1, 'Customer Service', 19)	
            ) AS Source 
			(
			      [CategoryId]
			    , [SuperMarketId]
			    , [AisleLabel]
			    , [Sequence]
			)
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1970" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [data].[UdfPopulateCategorySuperMarket]&#xD;&#xA;(&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[data].[UdfPopulateProducts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[data].[UdfPopulateProducts].[@Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateProducts].[Name]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateProducts].[IsShipped]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateProducts].[CategoryId]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateProducts].[AreaId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
			  [Name]
			, [IsShipped]
			, [CategoryId]
			, [AreaId]
	FROM	(
				VALUES
					--!Fridge
					--!Vege
					  ('Broccoli', 1, 1, 1)
					, ('Cauliflower', 1, 1, 1)
					, ('Cabbage', 1, 1, 1)
					, ('Spring Onions', 1, 1, 1)
					, ('White Onions', 1, 1, 1)
					, ('Red Onions', 1, 1, 1)
					, ('Garlic', 1, 1, 1)
					, ('Ginger', 1, 1, 1)
					, ('Aubergine', 1, 1, 1)
					, ('Carrots', 1, 1, 1)
					, ('Lettuce', 1, 1, 1)
					, ('Tomatoes', 1, 1, 1)
					, ('Avocado', 1, 1, 1)
					, ('Salad', 1, 1, 1)

					--!Fruit
					, ('Brae Burn Apples', 1, 31, 1)
					, ('Granny Smith Apples', 1, 31, 1)
					, ('Oranges', 1, 31, 1)
					, ('Pears', 1, 31, 1)
					, ('Mandarins', 1, 31, 1)
					, ('Apricots', 1, 31, 1)
					, ('Peaches', 1, 31, 1)
					, ('Nectarines', 1, 31, 1)
					, ('Red Grapes', 1, 31, 1)
					, ('White Grapes', 1, 31, 1)
					, ('Strawberries', 1, 31, 1)
					, ('Lemons', 1, 31, 1)
					, ('Courgette', 1, 31, 1)
					, ('Peppers', 1, 31, 1)

					--!Seafood
					, ('Salmon', 1, 3, 1)
					, ('Terakihi', 1, 3, 1)
					, ('Gurnard', 1, 3, 1)

					, ('Eggs',1, 6, 1)

					, ('Mayonaise',1, 14, 1)
					, ('Aioli',1, 14, 1)
					, ('Salad Dressing',1, 14, 1)
					, ('Tomato Sauce',1, 14, 1)
					, ('Burger Sauce',1, 14, 1)
					, ('Mustard',1, 14, 1)
					, ('Maple Syrup',1, 14, 1)
					, ('Srircha Mayonaise Sauce',1, 14, 1)
					, ('SoySauce',1, 14, 1)

					--!Alcohol
					, ('White Wine', 1, 22, 1)
					, ('Red Wine', 1, 22, 1)
					, ('Beer', 1, 22, 1)
					, ('Gin', 1, 22, 1)

					, ('Vogels Gluten Free Bread Soy/Linseed',1, 5, 1)
					, ('Bread',1, 5, 1)
					, ('Wraps',1, 5, 1)
					, ('Croisants',1, 5, 1)
					, ('Baby Spinach',1, 1, 1)
					, ('Spinach',1, 1, 1)
					, ('Pasta Ready Made',1, 4, 1)
					, ('Green Beans',1, 1, 1)

					, ('Milk Blue 3l',1, 6, 1)
					, ('Milk Blue 2l',1, 6, 1)
					, ('Cream',1, 6, 1)
					, ('Yoghurt Pottle',1, 6, 1)
					, ('Butter',1, 6, 1)
					, ('Butter Spreadable',1, 6, 1)
					, ('Olivani',1, 6, 1)
					, ('Cheese Tasty',1, 6, 1)
					, ('Cheese Parmesan',1, 6, 1)
					, ('Paneer',1, 6, 1)

					, ('Filter Coffee',1, 16, 1)

					, ('Green Pesto Dip',1, 17, 1)
					, ('Green Pesto',1, 17, 1)
					, ('Mediterranean Dip',1, 17, 1)
					, ('Red Pepper Dip',1, 17, 1)
					, ('Other Dips',1, 17, 1)
					, ('Hummus',1, 17, 1)

					--!FREEZER
					--Meat
					, ('Chicken Legs', 1, 2, 2)
					, ('Chicken Thighs', 1, 2, 2)
					, ('Chicken Breast', 1, 2, 2)
					, ('Chicken Tenders', 1, 2, 2)
					, ('Sausages', 1, 2, 2)

					--Seafood
					, ('Prawns', 1, 3, 2)

					--Bakery
					, ('Short Crust Pastry', 1, 5, 2)

					--Frozen Vege
					, ('Frozen Hash Browns',1, 8, 2)
					, ('Frozen Chips',1, 8, 2)
					, ('Frozen Wedges',1, 8, 2)
					, ('Frozen Sweet Corn',1, 8, 2)
					, ('Frozen Green Beans',1, 8, 2)
					, ('Frozen Oriental Stir Fry',1, 8, 2)
					, ('Frozen Classic Stir Fry',1, 8, 2)
					, ('Frozen Mixed Vege',1, 8, 2)
					, ('Frozen Chilli',1, 8, 2)
					, ('Frozen Spinach',1, 8, 2)
					, ('Frozen Peas',1, 8, 2)
					, ('Frozen Mixed Peppers',1, 8, 2)

					--Frozen Fruit
					, ('Frozen Mango',1, 36, 2)
					, ('Frozen Blueberries',1, 36, 2)
					, ('Frozen Strawberries',1, 36, 2)
					, ('Frozen Passionfruit',1, 36, 2)
					, ('Frozen Tropical Smoothie',1, 36, 2)
					, ('Frozen Smoothie Mix',1, 36, 2)
					, ('Ice Cream',1, 6, 2)

					--!PANTRY
					--Vege
					, ('Potatoes', 1, 1, 3)
					, ('Kumara', 1, 1, 3)
					, ('Pumpkin', 1, 1, 3)

					--Fruit
					, ('Pineapple',1, 31, 3)
					, ('Mango',1, 31, 3)
					, ('Cranberries', 1, 31, 1)
					, ('Pitted Dates', 1, 31, 1)

					--Bakery
					, ('Sugar - John',1, 5, 3)
					, ('Sugar - Raw',1, 5, 3)
					, ('Sugar - Castor',1, 5, 3)
					, ('Sugar - Dark Brown',1, 5, 3)
					, ('Plain Flour',1, 5, 3)
					, ('Self Raising Flour',1, 5, 3)
					, ('Gram Flour',1, 5, 3)
					, ('Chickpea Flour',1, 5, 3)
					, ('Rice Flour',1, 5, 3)
					, ('Chapati Flour',1, 5, 3)

					--Baking
					, ('Panko Breadcrumbs',1, 9, 3)
					, ('Dessicated Coconut',1, 9, 3)
					, ('Cocoa Powder',1, 9, 3)
					, ('Oat Bran',1, 9, 3)

					--Breakfast Cereals
					, ('Wheetbix',1, 10, 3)
					, ('Oats',1, 10, 3)
					, ('Muesli',1, 10, 3)

					--Tinned
					, ('Cannelini Beans Tinned',1, 11, 3)
					, ('Four Bean Mix Tinned',1, 11, 3)
					, ('Tomatos Tinned',1, 11, 3)
					, ('Kidney Beans Tinned',1, 11, 3)
					, ('Chickpeas Tinned',1, 11, 3)
					, ('Black Beans Tinned',1, 11, 3)
					, ('Baked Beans Tinned',1, 11, 3)
					, ('Beetroot Tinned',1, 11, 3)

					, ('Pineapple Tinned',1, 12, 3)
					, ('Pasta Sauce Tinned',1, 12, 3)
					, ('Coconut Milk Tinned',1, 12, 3)
					, ('Condensed Milk Tinned',1, 12, 3)

					--Sauces
					, ('Sriracha Sauce',1, 14, 3)
					, ('Worcestershire Sauce',1, 14, 3)
					, ('White Vinegar',1, 14, 3)
					, ('Rice Wine Vinegar',1, 14, 3)
					, ('Apple Cider Vinegar',1, 14, 3)

					--Confectionary
					, ('Crisps',1, 15, 3)
					, ('Doritos',1, 15, 3)
					, ('Chocolate',1, 15, 3)
					, ('Whittakers Peanut Slab',1, 15, 3)

					--Drinks
					, ('Orange Juice',1, 16, 3)
					, ('Apple Juice',1, 16, 3)
					, ('Orange and Mango Juice',1, 16, 3)
					, ('Instant Coffee',1, 16, 3)
					, ('Hot Chocolate',1, 16, 3)
					, ('Milo',1, 16, 3)
					, ('Soda Water',1, 16, 3)
					, ('Tonic Water',1, 16, 3)
					, ('Coke',1, 16, 3)
					, ('Fanta',1, 16, 3)
					, ('Lemonade',1, 16, 3)
					, ('L&P',1, 16, 3)
					, ('Dilmah Tea Bags',1, 16, 3)
					, ('Herbal Tea Bags',1, 16, 3)
					, ('Weight Gain',1, 16, 3)
					, ('Metamucil',1, 16, 3)

					--Jams, Spreads and Dips
					, ('Strawberry Jam',1, 17, 3)
					, ('Marmalade Jam',1, 17, 3)
					, ('Peanut Butter',1, 17, 3)
					, ('Anathoth Pickle',1, 17, 3)
					, ('Honey',1, 17, 3)

					--Pasta, Rice and Noodles
					, ('Pasta - Boccoli',1, 18, 3)
					, ('Pasta - Spaghetti',1, 18, 3)
					, ('Pasta - Lasagna',1, 18, 3)
					, ('Pasta - Canneloni',1, 18, 3)
					, ('Maggi Chicken Noodles',1, 18, 3)
					, ('Chinese Egg Noodles',1, 18, 3)
					, ('Indomie Noodles',1, 18, 3)
					, ('Pot Noodles',1, 18, 3)
					, ('Jasmine Rice',1, 18, 3)
					, ('Basmati Rice',1, 18, 3)
					, ('Poha',1, 18, 3)
					, ('Popadoms',1, 18, 3)

					--Salad and Cooking Oils
					, ('Pams Extra Virgin Olive Oil',1, 19, 3)
					, ('Avocado Oil',1, 19, 3)
					, ('Infused Olive Oil',1, 19, 3)

					--Snack Foods
					, ('Crackers',1, 20, 3)
					, ('Nut Bars',1, 20, 3)

					--Spices
					, ('Table Salt',1, 21, 3)
					, ('Himalayan Pink Salt',1, 21, 3)
					, ('Sea Salt',1, 21, 3)
					, ('Ground Pepper',1, 21, 3)
					, ('Pepper Corns',1, 21, 3)
					, ('Mustard Powder',1, 21, 3)
					, ('Roast Chicken Spice',1, 21, 3)
					, ('Ground Cinnamon',1, 21, 3)
					, ('Ground Nutmeg',1, 21, 3)
					, ('Cloves',1, 21, 3)
					, ('Garlic Granules',1, 21, 3)
					, ('Cayenne Pepper',1, 21, 3)
					, ('Italian Herbs',1, 21, 3)
					, ('Roast Vege Seasoning',1, 21, 3)
					, ('Ground Paprika',1, 21, 3)
					, ('Chilli Powder',1, 21, 3)
					, ('Bisto Gravy Mix',1, 21, 3)
					, ('Vege Stock Powder',1, 21, 3)
					, ('Chana Masala',1, 21, 3)
					, ('Sambar Powder',1, 21, 3)
					, ('Masala Powder',1, 21, 3)
					, ('Mixed Herbs',1, 21, 3)
					, ('Pulao Masala',1, 21, 3)

					--!Nuts and Seeds
					, ('Sunflower Seeds', 1, 32, 3)
					, ('Pumpkin Seeds', 1, 32, 3)
					, ('Chia Seeds', 1, 32, 3)
					, ('Sesame Seeds', 1, 32, 3)
					, ('Flax/Linseed Seeds', 1, 32, 3)
					, ('Masoor Whole',1, 32, 3)
					, ('Urad Gota',1, 32, 3)
					, ('Urad Whole',1, 32, 3)
					, ('Red Lentils',1, 32, 3)
					, ('Green Lentils',1, 32, 3)
					, ('Peanuts Salted',1, 32, 3)
					, ('Peanuts Unsalted',1, 32, 3)
					, ('Cashew Nuts Salted',1, 32, 3)
					, ('Cashew Nuts Unsalted',1, 32, 3)
					, ('Pistachio Nuts',1, 32, 3)

					--Biscuits
					, ('Arnotts Farmbake Cookies',1, 33, 3)
					, ('Arnotts Tim Tams', 1, 33, 3)
					, ('Biscuits',1, 33, 3)
					, ('Anzac Biscuits',1, 33, 3)

					--Tissue
					, ('Paper Towels',1, 34, 3)

					--Milks
					, ('Rice Milk',1, 35, 3)
					, ('Almond Milk',1, 35, 3)

					--!KITCHEN CLEANERS
					, ('Dish Washing Liquid',1, 28, 4)
					, ('Oven Cleaner',1, 28, 4)
					, ('Bam Degreaser',1, 28, 4)
					, ('Drain Cleaner',1, 28, 4)
					, ('Cerapol Ceramic Cleaner',1, 28, 4)
					, ('Dish Washer Powder',1, 28, 4)
					, ('Dish Washer Rinse Aid',1, 28, 4)
					, ('Blue Dish Cloths',1, 28, 4)
					, ('Green Scouring Pads',1, 28, 4)
					, ('Stainless Steel Scourer',1, 28, 4)
					, ('Dish Washing Brush',1, 28, 4)

					--!LOUNGE
					, ('Bananas', 1, 31, 5)

					--!LAUNDRY
					, ('Ajax Floor Cleaner', 1, 28, 6)
					, ('Tissues',1, 34, 6)
					, ('Toilet Paper Rolls',1, 34, 6)
					, ('Palmolive Hair Shampoo',1, 25, 6)
					, ('Underarm Spray',1, 24, 6)
					, ('Shower Body Wash',1, 24, 6)
					, ('Hand Soap',1, 24, 6)
					, ('Toothpaste',1, 23, 6)
					, ('Washing Machine Powder',1, 30, 6)
					, ('Rubbish Bags',1, 30, 6)
					, ('Fly Spray',1, 30, 6)
					, ('Toilet Cleaner',1, 28, 6)
					, ('Bathroom Cleaner',1, 28, 6)
					, ('Shower Cleaner',1, 28, 6)
					, ('Mould Cleaner',1, 28, 6)
					, ('Chux Sponge',1, 30, 6)
					, ('John Hair Dye',1, 25, 6)

					--!BATHROOM
					, ('Underarm Ball',1, 24, 7)
					, ('Listerine',1, 23, 7)
					, ('Toothbrush Electric',1, 23, 7)
					, ('Toothbrush Manual',1, 23, 7)
					, ('Razor Blades',1, 26, 7)
					, ('Shaving Cream',1, 26, 7)
					, ('Lynx Body Wash',1, 24, 7)
					, ('Manju Hair Shampoo',1, 25, 7)
					, ('Manju Hair Conditioner',1, 25, 7)
					, ('Manju Hair Dye',1, 25, 7)

					--!BEDROOM
					, ('AT Hop Card',1, 38, 9)
					, ('Lotto',1, 38, 9)

			) AS Source 
			(
				  [Name]
				, [IsShipped]
				, [CategoryId]
				, [AreaId]
			)
	WHERE	[Name] = ISNULL(@Name,[Name])
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="10254" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [data].[UdfPopulateProducts]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name NVARCHAR(255)&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[UdfPopulateProducts].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[data].[UdfPopulateSuperMarkets]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[data].[UdfPopulateSuperMarkets].[@SuperMarketId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateSuperMarkets].[SuperMarketId]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateSuperMarkets].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
			  [SuperMarketId]
			, [Name]
	FROM	(
				VALUES
					  (1 , 'PAKnSave Botany')
					, (2 , 'New World')
					, (3 , 'Countdown')
					, (4 , 'PAKnSave Flat Bush')
					, (5 , 'Fruit World Chapel Road')
			) AS Source 
			(
				  [SuperMarketId]
				, [Name]
			)
	WHERE	[SuperMarketId] = ISNULL(@SuperMarketId,[SuperMarketId])
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="461" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [data].[UdfPopulateSuperMarkets]&#xD;&#xA;(&#xD;&#xA;&#x9;@SuperMarketId INT&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[UdfPopulateSuperMarkets].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[data].[UdfPopulateUom]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[data].[UdfPopulateUom].[@Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[data].[UdfPopulateUom].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
			  [Name]
	FROM	(
				VALUES
                   ('Bag') 
                 , ('Bunch') 
                 , ('Bin') 
                 , ('Block') 
                 , ('Bundle') 
                 , ('Bottle') 
                 , ('Box') 
                 , ('Can') 
                 , ('Chip') 
                 , ('Crate') 
                 , ('Carton') 
                 , ('Dozen') 
                 , ('Drum') 
                 , ('Each') 
                 , ('Jar') 
                 , ('Keg') 
                 , ('Kilo') 
                 , ('Pouch') 
                 , ('Packet') 
                 , ('Pottle') 
                 , ('Pair') 
                 , ('Ream') 
                 , ('Roll') 
                 , ('Shipper') 
                 , ('Sleeve') 
                 , ('Spray Bottle') 
                 , ('Tube') 
                 , ('Tin') 
                 , ('Tray') 
                 , ('Tub')
            ) AS Source 
			(
				  [Name]
			)
	WHERE	[Name] = ISNULL(@Name,[Name])
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1149" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [data].[UdfPopulateUom]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name NVARCHAR(50)&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[data].[UdfPopulateUom].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[data]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddArea]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount		INT			= @@TRANCOUNT
		DECLARE	@MinAreaId			INT			= 10000
		DECLARE	@AreaId				INT

		IF NULLIF(@Name,'') IS NULL
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[Area]
			WHERE	[Name] = @Name
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		SELECT	@AreaId = ISNULL(MAX(c.[AreaId]),@MinAreaId) + 1
		FROM	[dbo].[Area] c
		WHERE	c.[AreaId] >= @MinAreaId

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION
			
		INSERT	[dbo].[Area]
		(
			  [Name]
			, [IsShipped]
			, [AreaId]
		)
		VALUES
		(
			  @Name
			, 0
			, @AreaId
		)

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddArea].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddArea].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddArea].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddArea].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1289" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddArea]&#xD;&#xA;&#x9;  @Name&#x9;&#x9;&#x9;NVARCHAR(255)&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddCategory]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount		INT			= @@TRANCOUNT
		DECLARE	@MinCategoryId		INT			= 10000
		DECLARE	@CategoryId			INT

		IF NULLIF(@Name,'') IS NULL
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[Category]
			WHERE	[Name] = @Name
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		SELECT	@CategoryId = ISNULL(MAX(c.[CategoryId]),@MinCategoryId) + 1
		FROM	[dbo].[Category] c
		WHERE	c.[CategoryId] >= @MinCategoryId

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION
			
		INSERT	[dbo].[Category]
		(
			  [Name]
			, [IsShipped]
			, [CategoryId]
		)
		VALUES
		(
			  @Name
			, 0
			, @CategoryId
		)

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddCategory].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddCategory].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddCategory].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddCategory].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1339" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddCategory]&#xD;&#xA;&#x9;  @Name&#x9;&#x9;&#x9;NVARCHAR(255)&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddProduct]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT

		IF @CategoryId IS NULL OR @AreaId IS NULL OR NULLIF(@Name,'') IS NULL OR @UomId IS NULL
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[Category] c
			WHERE	[CategoryId] = @CategoryId
		) OR NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[Area] c
			WHERE	[AreaId] = @AreaId
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[Product]
			WHERE	[Name] = @Name
			AND		[UomId] = @UomId
		)
		BEGIN
			SET @ReturnCode = -3
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		INSERT	[dbo].[Product]
		(
			  [Name]
			, [IsShipped]
			, [CategoryId]
			, [AreaId]
			, [UomId]
			, [PriceUomId]
		)
		VALUES
		(
			  @Name
			, 0
			, @CategoryId
			, @AreaId
			, @UomId
			, ISNULL(@PriceUomId,@UomId)
		)

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProduct].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProduct].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProduct].[@AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProduct].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProduct].[@UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProduct].[@PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProduct].[@CategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProduct].[@AreaId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProduct].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProduct].[@UomId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProduct].[@PriceUomId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProduct].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1665" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddProduct]&#xD;&#xA;&#x9;  @CategoryId&#x9;INT&#xD;&#xA;&#x9;, @AreaId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;NVARCHAR(255)&#xD;&#xA;&#x9;, @UomId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @PriceUomId&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddProductsToShoppingList]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		INSERT [dbo].[ShoppingListProduct]
			(
				  [ShoppingListId]
				, [ProductId]
				, [DateCreated]
				, [DateModified]
			)
			SELECT
					  @ShoppingListId
					, p.Id
					, @now
					, @now
			FROM	@Products p
			WHERE	NOT EXISTS
					(
						SELECT	1
						FROM	[dbo].[ShoppingListProduct] slp
						WHERE	slp.[ProductId] = p.[Id]
						AND		slp.[ShoppingListId] = @ShoppingListId
					)

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductsToShoppingList].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[DateCreated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[DateModified]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductsToShoppingList].[@Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductsToShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductsToShoppingList].[@Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductsToShoppingList].[@Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[AddProductsToShoppingList].[@Products]" Disambiguator="8">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[AddProductsToShoppingList].[@Products].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProductsToShoppingList].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProductsToShoppingList].[@Products]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProductsToShoppingList].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1249" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddProductsToShoppingList]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @Products&#x9;&#x9;&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddProductToShoppingList]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		INSERT [dbo].[ShoppingListProduct]
			(
				  [ShoppingListId]
				, [ProductId]
				, [DateCreated]
				, [DateModified]
				, [Quantity]
			)
			SELECT
					  @ShoppingListId
					, @ProductId
					, @now
					, @now
					, @Quantity
			WHERE	NOT EXISTS
					(
						SELECT	1
						FROM	[dbo].[ShoppingListProduct] slp
						WHERE	slp.[ProductId] = @ProductId
						AND		slp.[ShoppingListId] = @ShoppingListId
					)

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductToShoppingList].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[DateCreated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[DateModified]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductToShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductToShoppingList].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddProductToShoppingList].[@Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProductToShoppingList].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProductToShoppingList].[@ProductId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProductToShoppingList].[@Quantity]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddProductToShoppingList].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1280" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddProductToShoppingList]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ProductId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @Quantity&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;= 1&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddShoppingListPrice]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ShoppingListPriceId = @ShoppingListPriceId
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @ShoppingDate IS NULL
		BEGIN
			SET @ShoppingDate = @now
		END

		IF NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingList]
			WHERE	[ShoppingListId] = @ShoppingListId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@Prices
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END


		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		INSERT	[dbo].[ShoppingListPrice]
		(
			  [ShoppingListId]
			, [ShoppingDate]
		)
		VALUES
		(
			  @ShoppingListId
			, @ShoppingDate
		)

		SET @ShoppingListPriceId = SCOPE_IDENTITY()

		INSERT [dbo].[ShoppingListProductPrice]
		(
			  [ShoppingListPriceId]
			, [ProductId]
			, [Comment]
			, [Quantity]
			, [Price]
		)
		SELECT	  @ShoppingListPriceId
				, [ProductId]
				, [Comment]
				, [Quantity]
				, [Price]
		FROM	@Prices p

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT
	
		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@ShoppingDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@Prices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@Prices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@Prices].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@Prices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddShoppingListPrice].[@Prices].[Price]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[AddShoppingListPrice].[@Prices]" Disambiguator="14">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[AddShoppingListPrice].[@Prices].[ProductId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[AddShoppingListPrice].[@Prices].[Comment]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="4000" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[AddShoppingListPrice].[@Prices].[Quantity]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[AddShoppingListPrice].[@Prices].[Price]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Scale" Value="6" />
												<Property Name="Precision" Value="18" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[decimal]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[AddShoppingListPrice].[@Prices].[Total]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Scale" Value="6" />
												<Property Name="Precision" Value="18" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[decimal]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddShoppingListPrice].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddShoppingListPrice].[@ShoppingDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddShoppingListPrice].[@Prices]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtShoppingListProductPrice]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddShoppingListPrice].[@ShoppingListPriceId]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddShoppingListPrice].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1837" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddShoppingListPrice]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ShoppingDate&#x9;&#x9;&#x9;&#x9;DATETIME&#xD;&#xA;&#x9;, @Prices&#x9;&#x9;&#x9;&#x9;&#x9;[dbo].[UdtShoppingListProductPrice]&#x9;READONLY&#xD;&#xA;&#x9;, @ShoppingListPriceId&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NULL OUT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddSuperMarket]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount		INT			= @@TRANCOUNT
		DECLARE	@MinSuperMarketId	INT			= 10000
		DECLARE	@SuperMarketId		INT

		IF NULLIF(@Name,'') IS NULL
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[SuperMarket]
			WHERE	[Name] = @Name
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		SELECT	@SuperMarketId = ISNULL(MAX(c.[SuperMarketId]),@MinSuperMarketId) + 1
		FROM	[dbo].[SuperMarket] c
		WHERE	c.[SuperMarketId] >= @MinSuperMarketId

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION
			
		INSERT	[dbo].[SuperMarket]
		(
			  [Name]
			, [SuperMarketId]
		)
		VALUES
		(
			  @Name
			, @SuperMarketId
		)

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddSuperMarket].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddSuperMarket].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddSuperMarket].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddSuperMarket].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1350" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddSuperMarket]&#xD;&#xA;&#x9;  @Name&#x9;&#x9;&#x9;NVARCHAR(255)&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddUom]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount		INT			= @@TRANCOUNT

		IF NULLIF(@Name,'') IS NULL
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[Uom]
			WHERE	[Name] = @Name
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION
			
		INSERT	[dbo].[Uom]
		(
			  [Name]
		)
		VALUES
		(
			  @Name
		)

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddUom].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddUom].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddUom].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddUom].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1048" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddUom]&#xD;&#xA;&#x9;  @Name&#x9;&#x9;&#x9;NVARCHAR(50)&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Area]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Area].[AreaId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Area].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Area].[IsShipped]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="30" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Area].[DateCreated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="31" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Area].[DateModified]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="32" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="33" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Area].[IX_Area_Name]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Area].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[BarCode]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[BarCode].[BarCodeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[BarCode].[BarCode]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[BarCode].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="34" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="35" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Category]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Category].[CategoryId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Category].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Category].[IsShipped]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="36" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Category].[DateCreated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="37" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Category].[DateModified]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="38" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="39" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Category].[IX_Category_Name]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Category].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[CategorySuperMarket]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CategorySuperMarket].[CategorySuperMarketId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CategorySuperMarket].[CategoryId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CategorySuperMarket].[SuperMarketId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CategorySuperMarket].[AisleLabel]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CategorySuperMarket].[Sequence]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="40" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="41" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="42" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[CategorySuperMarket].[IX_CategorySuperMarket]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CategorySuperMarket].[CategoryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CategorySuperMarket].[SuperMarketId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[CategorySuperMarket]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[CreateShoppingList]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ShoppingListId = @ShoppingListId
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF NULLIF(@Name,'') IS NULL
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingList]
			WHERE	[SuperMarketId] = @SuperMarketId
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		INSERT [dbo].[ShoppingList]
			(
				  [SuperMarketId]
				, [DateCreated]
				, [DateModified]
				, [CheckListId]
				, [Name]
				, [BoardId]
			)
			VALUES
			(
				  @SuperMarketId
				, @now
				, @now
				, @CheckListId
				, @Name
				, @BoardId
			)

		SET @ShoppingListId = SCOPE_IDENTITY()

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[DateCreated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[DateModified]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[CheckListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[BoardId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@CheckListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@BoardId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CreateShoppingList].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CreateShoppingList].[@CheckListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CreateShoppingList].[@BoardId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CreateShoppingList].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CreateShoppingList].[@ShoppingListId]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CreateShoppingList].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1544" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[CreateShoppingList]&#xD;&#xA;&#x9;  @SuperMarketId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @CheckListId&#x9;&#x9;&#x9;NVARCHAR(50)&#xD;&#xA;&#x9;, @BoardId&#x9;&#x9;&#x9;&#x9;NVARCHAR(50)&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(50)&#xD;&#xA;&#x9;, @ShoppingListId&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DeleteShoppingList]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingList] slp
			WHERE	[ShoppingListId] = @ShoppingListId
		)
		BEGIN
			DELETE [dbo].[ShoppingList]
			WHERE	[ShoppingListId] = @ShoppingListId
		END

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteShoppingList].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteShoppingList].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteShoppingList].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="993" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DeleteShoppingList]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DeleteShoppingListItems]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingListProduct]
			WHERE	[ShoppingListId] = @ShoppingListId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		IF EXISTS
		(
			SELECT	1
			FROM	@Products slp
		)
		BEGIN
			DELETE	slp
			FROM	[dbo].[ShoppingListProduct] slp
					CROSS APPLY @Products p
			WHERE	[ShoppingListId] = @ShoppingListId
			AND		slp.[ProductId] = p.[Id]
		END
		ELSE
		BEGIN
			DELETE	slp
			FROM	[dbo].[ShoppingListProduct] slp
			WHERE	[ShoppingListId] = @ShoppingListId
		END

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteShoppingListItems].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteShoppingListItems].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteShoppingListItems].[@Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteShoppingListItems].[@Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DeleteShoppingListItems].[@Products]" Disambiguator="10">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DeleteShoppingListItems].[@Products].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteShoppingListItems].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteShoppingListItems].[@Products]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteShoppingListItems].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1383" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DeleteShoppingListItems]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @Products&#x9;&#x9;&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DeleteSupermarket]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[SuperMarket] slp
			WHERE	[SuperMarketId] = @SuperMarketId
		)
		BEGIN
			DELETE [dbo].[SuperMarket]
			WHERE	[SuperMarketId] = @SuperMarketId
		END

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteSupermarket].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteSupermarket].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteSupermarket].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteSupermarket].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="985" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DeleteSupermarket]&#xD;&#xA;&#x9;  @SuperMarketId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Area_[DateModified]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Area].[DateModified]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="32" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Area_DateCreated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Area].[DateCreated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="31" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Area_IsShipped]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="30" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Category_[DateModified]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Category].[DateModified]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="38" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Category_DateCreated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Category].[DateCreated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="37" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Category_IsShipped]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Category].[IsShipped]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="36" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Product_[DateModified]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Product].[DateModified]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="43" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Product_DateCreated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Product].[DateCreated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="44" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Product_IsShipped]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Product].[IsShipped]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="45" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingList_[DateModified]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingList].[DateModified]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="46" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingList_DateCreated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingList].[DateCreated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="47" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingListPrice_DateCreated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[DateCreated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="48" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingListPrice_DateModified]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[DateModified]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="49" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingListProduct_DateCreated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[DateCreated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="50" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingListProduct_DateModified]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[DateModified]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="51" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingListProduct_Quantity]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(1)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[Quantity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="52" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingListProductPrice_DateCreated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[DateCreated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="53" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ShoppingListProductPrice_DateModified]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(GETDATE())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[DateModified]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="54" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKBarCodeProductId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[BarCode].[ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[BarCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="35" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKCategorySuperMarketCategoryId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CategorySuperMarket]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="41" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKCategorySuperMarketSuperMarketId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[SuperMarketId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CategorySuperMarket]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="42" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKProductAreaId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Product].[AreaId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="55" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKProductCategoryId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="56" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKProductPriceUomId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Product].[PriceUomId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="57" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKProductUomId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="58" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKShoppingListPriceShoppingListId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="59" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKShoppingListProductPriceProductId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="60" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKShoppingListProductPriceShoppingListPriceId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="61" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKShoppingListProductProductId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="62" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKShoppingListProductShoppingListId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="63" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FKShoppingListSuperMarketId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="64" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetArea]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [AreaId]
				, [Name]
				, [IsShipped]
		FROM	[dbo].[Area]
		WHERE	[AreaId] = @AreaId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetArea].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetArea].[@AreaId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetArea].[@AreaId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetArea].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="587" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetArea]&#xD;&#xA;&#x9;  @AreaId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAreas]">
			<Property Name="BodyScript">
				<Value><![CDATA[
		IF NOT EXISTS
		(
			SELECT	1
			FROM	@Areas
		)
		BEGIN
			SELECT	  c.[AreaId]
					, c.[Name]
					, c.[IsShipped]
					, [ProductsJson] = [internal].[ProductsJson](NULL, c.[AreaId], @IncludeProducts)
					, [IsShipped]
			FROM	[dbo].[Area] c
			ORDER BY c.[Name]
		END
		ELSE
		BEGIN
			SELECT	  c.[AreaId]
					, c.[Name]
					, c.[IsShipped]
					, [ProductsJson] = [internal].[ProductsJson](NULL, c.[AreaId], @IncludeProducts)
					, [IsShipped]
			FROM	[dbo].[Area] c
					CROSS APPLY @Areas ca
			WHERE	ca.[Id] = c.[AreaId]
			ORDER BY c.[Name]
		END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetAreas].[@Areas]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAreas].[@IncludeProducts]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ProductsJson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ProductsJson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAreas].[@Areas].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetAreas].[@Areas]" Disambiguator="5">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetAreas].[@Areas].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAreas].[@IncludeProducts]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAreas].[@Areas]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAreas].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="730" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAreas]&#xD;&#xA;&#x9;@IncludeProducts&#x9;BIT = 0,&#xD;&#xA;&#x9;@Areas&#x9;&#x9;&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY,&#xD;&#xA;&#x9;@ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCategories]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@Categories
		)
		BEGIN
			SELECT	  c.[CategoryId]
					, c.[Name]
					, [ProductsJson] = [internal].[ProductsJson](c.[CategoryId], NULL, @IncludeProducts)
					, [IsShipped]
			FROM	[dbo].[Category] c
			ORDER BY c.[Name]
		END
		ELSE
		BEGIN
			SELECT	  c.[CategoryId]
					, c.[Name]
					, [ProductsJson] = [internal].[ProductsJson](c.[CategoryId], NULL, @IncludeProducts)
					, [IsShipped]
			FROM	[dbo].[Category] c
					CROSS APPLY @Categories ca
			WHERE	ca.[Id] = c.[CategoryId]
			ORDER BY c.[Name]
		END

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetCategories].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCategories].[@Categories]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCategories].[@IncludeProducts]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ProductsJson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ProductsJson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCategories].[@Categories].[Id]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetCategories].[@Categories]" Disambiguator="4">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetCategories].[@Categories].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCategories].[@IncludeProducts]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCategories].[@Categories]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCategories].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1119" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetCategories]&#xD;&#xA;&#x9;@IncludeProducts&#x9;BIT = 0,&#xD;&#xA;&#x9;@Categories&#x9;&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY,&#xD;&#xA;&#x9;@ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCategory]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [CategoryId]
				, [Name]
				, [IsShipped]
		FROM	[dbo].[Category]
		WHERE	[CategoryId] = @CategoryId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetCategory].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCategory].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCategory].[@CategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCategory].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="611" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetCategory]&#xD;&#xA;&#x9;  @CategoryId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCategorySuperMarkets]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  c.[CategoryId]
				, [Category] = c.[Name]
				, csm.[AisleLabel]
				, csm.[Sequence]
		FROM	[dbo].[Category] c
				LEFT OUTER JOIN [dbo].[CategorySuperMarket] csm
					ON csm.[CategoryId] = c.[CategoryId]
					AND	csm.[SuperMarketId]	= @SuperMarketId
		ORDER BY c.[Name]

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetCategorySuperMarkets].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCategorySuperMarkets].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[AisleLabel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[Sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCategorySuperMarkets].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCategorySuperMarkets].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="807" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetCategorySuperMarkets]&#xD;&#xA;&#x9;  @SuperMarketId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetProduct]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [ProductId]
				, p.[Name]
				, p.[DateCreated]
				, p.[DateModified]
				, c.[CategoryId]
				, [Category] = c.[Name]
				, a.[AreaId]
				, [Area] = a.[Name]
				, [ShoppingListId] = [internal].[ExistsInShoppingList](p.[ProductId])
				, p.[IsShipped]
				, p.[UomId]
				, [Uom] = u.[Name]
				, p.[PriceUomId]
				, [PriceUom] = u2.[Name]
		FROM	[dbo].[Product] p
				INNER JOIN [dbo].Category c
					ON p.[CategoryId] = c.[CategoryId]
				INNER JOIN [dbo].[Area] a
					ON p.[AreaId] = a.[AreaId]
				LEFT OUTER JOIN [dbo].[Uom] u
					ON p.[UomId] = u.[UomId]
				LEFT OUTER JOIN [dbo].[Uom] u2
					ON p.[PriceUomId] = u2.[UomId]
		WHERE	[ProductId] = @ProductId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetProduct].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[DateCreated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[DateModified]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExistsInShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProduct].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProduct].[@ProductId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProduct].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1197" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetProduct]&#xD;&#xA;&#x9;  @ProductId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetProducts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  p.[ProductId]
				, p.[Name]
				, c.[CategoryId]
				, [Category] = c.[Name]
				, a.[AreaId]
				, [Area] = a.[Name]
				, [ShoppingListId] = [internal].[ExistsInShoppingList](p.[ProductId])
				, p.[IsShipped]
				, p.[UomId]
				, [Uom] = u.[Name]
				, p.[PriceUomId]
				, [PriceUom] = u2.[Name]
		FROM	[internal].[find_products](@SearchText, @CategoryId, @AreaId) p
				INNER JOIN [dbo].[Category] c
					ON p.[CategoryId] = c.[CategoryId]
				INNER JOIN [dbo].[Area] a
					ON p.[AreaId] = a.[AreaId]
				LEFT OUTER JOIN [dbo].[Uom] u
					ON p.[UomId] = u.[UomId]
				LEFT OUTER JOIN [dbo].[Uom] u2
					ON p.[PriceUomId] = u2.[UomId]
		ORDER BY
				CASE
					WHEN @OrderBy = 1
					THEN p.[Name]
					WHEN @OrderBy = 2
					THEN c.[Name]
					WHEN @OrderBy = 3
					THEN a.[Name]
				END
				, p.[Name]

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetProducts].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProducts].[@SearchText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProducts].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProducts].[@AreaId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExistsInShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProducts].[@OrderBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProducts].[@OrderBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProducts].[@SearchText]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProducts].[@CategoryId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProducts].[@AreaId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProducts].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1455" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetProducts]&#xD;&#xA;&#x9;  @OrderBy&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= 1&#xD;&#xA;&#x9;, @SearchText&#x9;&#x9;NVARCHAR(4000)&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @CategoryId&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @AreaId&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetProductsForCategory]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [ProductId]
				, p.[Name]
				, [IsShipped]
				, p.[UomId]
				, [Uom] = u.[Name]
				, p.[PriceUomId]
				, [PriceUom] = u2.[Name]
		FROM	[dbo].[Product] P
				LEFT OUTER JOIN [dbo].[Uom] u
					ON p.[UomId] = u.[UomId]
				LEFT OUTER JOIN [dbo].[Uom] u2
					ON p.[PriceUomId] = u2.[UomId]
		WHERE	[CategoryId] = @CategoryId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetProductsForCategory].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProductsForCategory].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProductsForCategory].[@CategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProductsForCategory].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="856" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetProductsForCategory]&#xD;&#xA;&#x9;  @CategoryId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetShoppingList]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [ShoppingListId]
				, [Name]
				, [CheckListId]
				, [BoardId]
				, [SuperMarketId]
		FROM	[dbo].[ShoppingList]
		WHERE	[ShoppingListId] = @ShoppingListId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetShoppingList].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[CheckListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[BoardId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingList].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingList].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="678" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShoppingList]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetShoppingListPrice]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [ShoppingListPriceId]
				, [ShoppingListId]
				, [ShoppingDate]
		FROM	[dbo].[ShoppingListPrice]
		WHERE	[ShoppingListPriceId] = @ShoppingListPriceId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetShoppingListPrice].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingListPrice].[@ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListPrice].[@ShoppingListPriceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListPrice].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="686" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShoppingListPrice]&#xD;&#xA;&#x9;  @ShoppingListPriceId&#x9;&#x9;INT&#x9;&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetShoppingListPrices]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@Ids
		)
		BEGIN
			SELECT	  [ShoppingListPriceId]
					, [ShoppingListId]
					, [ShoppingDate]
					, [PricesJson] = [internal].[ShoppingListProductPriceJson](c.[ShoppingListPriceId], @IncludePrices)
			FROM	[dbo].[ShoppingListPrice] c
			ORDER BY c.[ShoppingDate]
		END
		ELSE
		BEGIN
			SELECT	  [ShoppingListPriceId]
					, [ShoppingListId]
					, [ShoppingDate]
					, [PricesJson] = [internal].[ShoppingListProductPriceJson](c.[ShoppingListPriceId], @IncludePrices)
			FROM	[dbo].[ShoppingListPrice] c
					CROSS APPLY @Ids ca
			WHERE	ca.[Id] = c.[ShoppingListPriceId]
			ORDER BY c.[ShoppingDate]
		END

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetShoppingListPrices].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingListPrices].[@Ids]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingListPrices].[@IncludePrices]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ShoppingListProductPriceJson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ShoppingListProductPriceJson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingListPrices].[@Ids].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingDate]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetShoppingListPrices].[@Ids]" Disambiguator="13">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetShoppingListPrices].[@Ids].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListPrices].[@IncludePrices]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListPrices].[@Ids]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListPrices].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1215" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShoppingListPrices]&#xD;&#xA;&#x9;@IncludePrices&#x9;&#x9;BIT = 0,&#xD;&#xA;&#x9;@Ids&#x9;&#x9;&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY,&#xD;&#xA;&#x9;@ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetShoppingListProductPrices]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [ShoppingListPriceId]
				, [ProductId]
				, [Comment]
				, [Quantity]
				, [Price]
		FROM	[dbo].[ShoppingListProductPrice]
		WHERE	[ShoppingListPriceId] = @ShoppingListPriceId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetShoppingListProductPrices].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingListProductPrices].[@ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListProductPrices].[@ShoppingListPriceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListProductPrices].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="724" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShoppingListProductPrices]&#xD;&#xA;&#x9;  @ShoppingListPriceId&#x9;&#x9;INT&#x9;&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetShoppingListProducts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  P.[ProductId]
				, P.[Name]
				, csm.[AisleLabel]
				, [Sequence] = ISNULL(csm.[Sequence], 100)
				, slp.[Quantity]
				, p.[IsShipped]
				, slp.[ShoppingListId]
				, p.[UomId]
				, [Uom] = u.[Name]
				, p.[PriceUomId]
				, [PriceUom] = u2.[Name]
		FROM	[dbo].[ShoppingListProduct] slp
				INNER JOIN [dbo].[ShoppingList] sl
					ON slp.[ShoppingListId] = sl.[ShoppingListId]
				INNER JOIN [dbo].[Product] p
					ON slp.[ProductId] = p.[ProductId]
				LEFT OUTER JOIN [dbo].[CategorySuperMarket] csm
					ON csm.[CategoryId] = p.[CategoryId]
					AND csm.[SuperMarketId] = sl.[SuperMarketId]
				LEFT OUTER JOIN [dbo].[Uom] u
					ON p.[UomId] = u.[UomId]
				LEFT OUTER JOIN [dbo].[Uom] u2
					ON p.[PriceUomId] = u2.[UomId]
		WHERE	slp.[ShoppingListId] = @ShoppingListId
		ORDER BY [Sequence]

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetShoppingListProducts].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[AisleLabel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[Sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingListProducts].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListProducts].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingListProducts].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1349" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShoppingListProducts]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetShoppingLists]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@ShoppingLists
		)
		BEGIN
			SELECT	  [ShoppingListId]
					, [Name]
					, [CheckListId]
					, [BoardId]
					, [SuperMarketId]
			FROM	[dbo].[ShoppingList]
		END
		ELSE
		BEGIN
			SELECT	  [ShoppingListId]
					, [Name]
					, [CheckListId]
					, [BoardId]
					, [SuperMarketId]
			FROM	[dbo].[ShoppingList] c
					CROSS APPLY @ShoppingLists ca
			WHERE	ca.[Id] = c.[ShoppingListId]
			ORDER BY c.[Name]
		END

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetShoppingLists].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingLists].[@ShoppingLists]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[CheckListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[BoardId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[CheckListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[BoardId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShoppingLists].[@ShoppingLists].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetShoppingLists].[@ShoppingLists]" Disambiguator="9">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetShoppingLists].[@ShoppingLists].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingLists].[@ShoppingLists]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShoppingLists].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="999" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShoppingLists]&#xD;&#xA;&#x9;  @ShoppingLists&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetSuperMarket]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  [SuperMarketId]
				, [Name]
		FROM	[dbo].[SuperMarket]
		WHERE	[SuperMarketId] = @SuperMarketId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetSuperMarket].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSuperMarket].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSuperMarket].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSuperMarket].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="609" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetSuperMarket]&#xD;&#xA;&#x9;  @SuperMarketId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetSuperMarkets]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@SuperMarkets
		)
		BEGIN
			SELECT	  [SuperMarketId]
					, [Name]
			FROM	[dbo].[SuperMarket]
		END
		ELSE
		BEGIN
			SELECT	  [SuperMarketId]
					, [Name]
			FROM	[dbo].[SuperMarket] c
					CROSS APPLY @SuperMarkets ca
			WHERE	ca.[Id] = c.[SuperMarketId]
			ORDER BY c.[Name]
		END

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetSuperMarkets].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSuperMarkets].[@SuperMarkets]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSuperMarkets].[@SuperMarkets].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetSuperMarkets].[@SuperMarkets]" Disambiguator="7">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetSuperMarkets].[@SuperMarkets].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSuperMarkets].[@SuperMarkets]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSuperMarkets].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="859" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetSuperMarkets]&#xD;&#xA;&#x9;@SuperMarkets&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY,&#xD;&#xA;&#x9;@ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetUom]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  c.[UomId]
				, c.[Name]
		FROM	[dbo].[Uom] c
		WHERE	[UomId] = @UomId

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetUom].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetUom].[@UomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetUom].[@UomId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetUom].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="565" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetUom]&#xD;&#xA;&#x9;  @UomId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetUoms]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@Uoms
		)
		BEGIN
			SELECT	  c.[UomId]
					, c.[Name]
			FROM	[dbo].[Uom] c
			ORDER BY c.[Name]
		END
		ELSE
		BEGIN
			SELECT	  c.[UomId]
					, c.[Name]
			FROM	[dbo].[Uom] c
					CROSS APPLY @Uoms ca
			WHERE	ca.[Id] = c.[UomId]
			ORDER BY c.[Name]
		END

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetUoms].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetUoms].[@Uoms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetUoms].[@Uoms].[Id]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetUoms].[@Uoms]" Disambiguator="12">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetUoms].[@Uoms].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetUoms].[@Uoms]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetUoms].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="821" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetUoms]&#xD;&#xA;&#x9;@Uoms&#x9;&#x9;&#x9;&#x9;[dbo].[UdtId]&#x9;READONLY,&#xD;&#xA;&#x9;@ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[MergeCategorySuperMarket]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@CategorySuperMarkets
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		MERGE INTO [dbo].[CategorySuperMarket] AS Target
			USING
			(
				SELECT	
						  c.[CategoryId]
						, [SuperMarketId] = @SuperMarketId
						, c.[AisleLabel]
						, c.[Sequence]
				FROM	@CategorySuperMarkets c
			) AS Source 
			ON
				(
						Target.[CategoryId] = Source.[CategoryId]
						AND Target.[SuperMarketId] = Source.[SuperMarketId]
				)
			WHEN NOT MATCHED BY TARGET THEN
				INSERT
				(
						  [CategoryId]
						, [SuperMarketId]
						, [AisleLabel]
						, [Sequence]
				)
				VALUES
				(
						  Source.[CategoryId]
						, Source.[SuperMarketId]
						, Source.[AisleLabel]
						, Source.[Sequence]
				)
			WHEN MATCHED THEN
				UPDATE
				SET
						  [AisleLabel] = Source.[AisleLabel]
						, [Sequence] = Source.[Sequence]
			WHEN NOT MATCHED BY SOURCE
				AND Target.[SuperMarketId] = @SuperMarketId
				THEN
					DELETE
			;

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[AisleLabel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[Sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[AisleLabel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CategorySuperMarket].[Sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[AisleLabel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[Sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[AisleLabel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[Sequence]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets]" Disambiguator="6">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[CategoryId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[AisleLabel]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="250" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets].[Sequence]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[MergeCategorySuperMarket].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[MergeCategorySuperMarket].[@CategorySuperMarkets]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtCategorySuperMarket]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[MergeCategorySuperMarket].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1861" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[MergeCategorySuperMarket]&#xD;&#xA;&#x9;  @SuperMarketId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @CategorySuperMarkets&#x9;&#x9;[dbo].[UdtCategorySuperMarket]&#x9;READONLY&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_settings_name]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Settings].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Settings]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="65" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKAreaCategoryId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Area].[AreaId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="33" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKBarCodeBarCodeId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[BarCode].[BarCodeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[BarCode]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="34" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKCategoryCategoryId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Category].[CategoryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="39" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKCategorySuperMarketProductIdSuperMarketId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CategorySuperMarket].[CategorySuperMarketId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CategorySuperMarket]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="40" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKProductProductId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Product].[ProductId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="66" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKShoppingList]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="67" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKShoppingListPrice]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="68" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKShoppingListProduct]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShoppingListProduct].[ShoppingListProductId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="69" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKShoppingListProductPrice]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListProductPriceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="70" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKSuperMarkeSuperMarkeId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="71" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PKUom]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Uom].[UomId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="72" />
		</Element>
		<Element Type="SqlFullTextIndex" Name="[dbo].[Product]">
			<Property Name="DoUseSystemStopList" Value="False" />
			<Relationship Name="Catalog">
				<Entry>
					<References Name="[FullTextCatalog_ProductSearch]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlFullTextIndexColumnSpecifier">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Product].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
			<Relationship Name="KeyName">
				<Entry>
					<References Name="[dbo].[PKProductProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="StopList">
				<Entry>
					<References Name="[ProductSearch]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Product]" Disambiguator="11">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[IsShipped]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="45" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[DateCreated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="44" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[DateModified]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="43" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[CategoryId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[AreaId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[UomId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[PriceUomId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="66" />
			<AttachedAnnotation Disambiguator="56" />
			<AttachedAnnotation Disambiguator="55" />
			<AttachedAnnotation Disambiguator="58" />
			<AttachedAnnotation Disambiguator="57" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Product].[IX_Product_Name_Uom]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Product].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Product].[UomId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RemoveProductFromShoppingList]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		IF EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingListProduct] slp
			WHERE	slp.[ProductId] = @ProductId
			AND		slp.[ShoppingListId] = @ShoppingListId
		)
		BEGIN
			DELETE [dbo].[ShoppingListProduct]
			WHERE	[ProductId] = @ProductId
			AND		[ShoppingListId] = @ShoppingListId
		END

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemoveProductFromShoppingList].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemoveProductFromShoppingList].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemoveProductFromShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemoveProductFromShoppingList].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemoveProductFromShoppingList].[@ProductId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemoveProductFromShoppingList].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1115" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[RemoveProductFromShoppingList]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ProductId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SearchProducts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		SELECT	  p.[ProductId]
				, p.[Name]
				, [ShoppingListId] = [internal].[ExistsInShoppingList](p.[ProductId])
				, p.[IsShipped]
				, p.[UomId]
				, [Uom] = u.[Name]
				, p.[PriceUomId]
				, [PriceUom] = u2.[Name]
		FROM	[internal].[find_products](@SearchText, @CategoryId, @AreaId) p
				LEFT OUTER JOIN [dbo].[Uom] u
					ON p.[UomId] = u.[UomId]
				LEFT OUTER JOIN [dbo].[Uom] u2
					ON p.[PriceUomId] = u2.[UomId]
		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SearchProducts].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchProducts].[@SearchText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchProducts].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchProducts].[@AreaId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExistsInShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchProducts].[@SearchText]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchProducts].[@CategoryId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchProducts].[@AreaId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchProducts].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1016" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SearchProducts]&#xD;&#xA;&#x9;  @SearchText&#x9;&#x9;NVARCHAR(4000)&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @CategoryId&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @AreaId&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SetSuperMarket]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()
		DECLARE @ShoppingListId		INT

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		IF NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingList]
		)
		BEGIN
			EXEC [dbo].[CreateShoppingList] 
				  @SuperMarketId = @SuperMarketId
				, @ShoppingListId = @ShoppingListId OUT
		END
		ELSE
		BEGIN
			UPDATE	[dbo].[ShoppingList]
			SET		[SuperMarketId] = @SuperMarketId

			SELECT	@ShoppingListId = [ShoppingListId]
			FROM	[dbo].[ShoppingList]
			WHERE	[SuperMarketId] = @SuperMarketId
		END
		
		UPDATE	[dbo].[ShoppingListProduct]
		SET		[ShoppingListId] = @ShoppingListId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SetSuperMarket].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SetSuperMarket].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CreateShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SetSuperMarket].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SetSuperMarket].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1321" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SetSuperMarket]&#xD;&#xA;&#x9;  @SuperMarketId&#x9;INT&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Settings]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Settings].[SettingId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Settings].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Settings].[Value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="65" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Settings].[UXSettingsName]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Settings].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[Settings].[Value]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Settings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ShoppingList]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingList].[ShoppingListId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingList].[SuperMarketId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingList].[CheckListId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingList].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingList].[DateCreated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="47" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingList].[DateModified]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="46" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingList].[BoardId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="67" />
			<AttachedAnnotation Disambiguator="64" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[ShoppingList].[IX_ShoppingList_SuperMarketId]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShoppingList].[SuperMarketId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ShoppingListPrice]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListPrice].[ShoppingListId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListPrice].[ShoppingDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListPrice].[DateCreated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="48" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListPrice].[DateModified]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="49" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="68" />
			<AttachedAnnotation Disambiguator="59" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ShoppingListProduct]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProduct].[ShoppingListProductId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProduct].[ShoppingListId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProduct].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProduct].[DateCreated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="50" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProduct].[DateModified]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="51" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProduct].[Comment]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProduct].[Quantity]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="52" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="69" />
			<AttachedAnnotation Disambiguator="63" />
			<AttachedAnnotation Disambiguator="62" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ShoppingListProductPrice]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[ShoppingListProductPriceId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[DateCreated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="53" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[DateModified]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="54" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[Comment]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[Quantity]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[Price]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="6" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ShoppingListProductPrice].[Total]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="6" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="70" />
			<AttachedAnnotation Disambiguator="61" />
			<AttachedAnnotation Disambiguator="60" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[ShoppingListProductPrice].[IX_ShoppingListPriceId_ProductId]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[SuperMarket]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SuperMarket].[SuperMarketId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SuperMarket].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="71" />
		</Element>
		<Element Type="SqlTableType" Name="[dbo].[UdtCategorySuperMarket]">
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtCategorySuperMarket].[CategoryId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtCategorySuperMarket].[AisleLabel]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtCategorySuperMarket].[Sequence]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTableType" Name="[dbo].[UdtCodeList]">
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtCodeList].[Code]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="36" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTableType" Name="[dbo].[UdtId]">
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtId].[Id]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTableType" Name="[dbo].[UdtShoppingListProductPrice]">
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtShoppingListProductPrice].[ProductId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtShoppingListProductPrice].[Comment]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtShoppingListProductPrice].[Quantity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtShoppingListProductPrice].[Price]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="6" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[UdtShoppingListProductPrice].[Total]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="6" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Uom]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Uom].[UomId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Uom].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="72" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Uom].[IX_Uom_Description_Uom]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Uom].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateArea]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT

		IF @AreaId IS NULL
			AND @Name IS NULL
		BEGIN
			RETURN @ReturnCode
		END

		IF @AreaId IS NOT NULL AND NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[Area] c
			WHERE	[AreaId] = @AreaId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF @AreaId IS NOT NULL AND EXISTS
		(
			SELECT	1
			FROM	[dbo].[Area] c
			WHERE	[AreaId] = @AreaId
			AND		c.[IsShipped] = 1
		) 
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		UPDATE	[dbo].[Area]
		SET		[Name] = ISNULL(@Name, [Name])
		WHERE	[AreaId] = @AreaId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateArea].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateArea].[@AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateArea].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateArea].[@AreaId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateArea].[@Name]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateArea].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1323" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateArea]&#xD;&#xA;&#x9;  @AreaId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;NVARCHAR(255)&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateCategory]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT

		IF @CategoryId IS NULL
			AND @Name IS NULL
		BEGIN
			RETURN @ReturnCode
		END

		IF @CategoryId IS NOT NULL AND NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[Category] c
			WHERE	[CategoryId] = @CategoryId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF @CategoryId IS NOT NULL AND EXISTS
		(
			SELECT	1
			FROM	[dbo].[Category] c
			WHERE	[CategoryId] = @CategoryId
			AND		c.[IsShipped] = 1
		) 
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		UPDATE	[dbo].[Category]
		SET		[Name] = ISNULL(@Name, [Name])
		WHERE	[CategoryId] = @CategoryId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateCategory].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateCategory].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateCategory].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateCategory].[@CategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateCategory].[@Name]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateCategory].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1378" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateCategory]&#xD;&#xA;&#x9;  @CategoryId&#x9;INT&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;NVARCHAR(255)&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateProduct]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @CategoryId IS NULL
			AND @AreaId IS NULL
			AND @Name IS NULL
		BEGIN
			RETURN @ReturnCode
		END

		IF @CategoryId IS NOT NULL AND NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[Category] c
			WHERE	[CategoryId] = @CategoryId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF @AreaId IS NOT NULL AND NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[Area] c
			WHERE	[AreaId] = @AreaId
		) 
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		UPDATE	[dbo].[Product]
		SET		  [Name] = ISNULL(@Name, [Name])
				, [CategoryId] = ISNULL(@CategoryId, [CategoryId])
				, [AreaId] = ISNULL(@AreaId, [AreaId])
				, [UomId] = ISNULL(@UomId, [UomId])
				, [PriceUomId] = ISNULL(@PriceUomId, [PriceUomId])
		WHERE	[ProductId] = @ProductId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProduct].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProduct].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProduct].[@AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProduct].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Category].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Area].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProduct].[@UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProduct].[@PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProduct].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProduct].[@ProductId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProduct].[@CategoryId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProduct].[@AreaId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProduct].[@Name]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProduct].[@UomId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProduct].[@PriceUomId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProduct].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1714" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateProduct]&#xD;&#xA;&#x9;  @ProductId&#x9;INT&#xD;&#xA;&#x9;, @CategoryId&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @AreaId&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;NVARCHAR(255)&#x9;= NULL&#xD;&#xA;&#x9;, @UomId&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @PriceUomId&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateProductQuantity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		UPDATE	[dbo].[ShoppingListProduct]
		SET		[Quantity] = @Quantity
		WHERE	[ProductId] = @ProductId
		AND		[ShoppingListId] = @ShoppingListId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProductQuantity].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProductQuantity].[@Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProductQuantity].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateProductQuantity].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProductQuantity].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProductQuantity].[@ProductId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProductQuantity].[@Quantity]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateProductQuantity].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="981" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateProductQuantity]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @ProductId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @Quantity&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;= 1&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateShoppingList]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF @CheckListId IS NULL AND @BoardId IS NULL AND @Name IS NULL
		BEGIN
			RETURN @ReturnCode
		END

		IF NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingList]
			WHERE	[ShoppingListId] = @ShoppingListId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		UPDATE	[dbo].[ShoppingList]
		SET		  [DateModified] = @now
				, [CheckListId] = ISNULL(@CheckListId,[CheckListId])
				, [BoardId] = ISNULL(@BoardId,[CheckListId])
				, [Name] = ISNULL(@Name,[Name])
		WHERE	[ShoppingListId] = @ShoppingListId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingList].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingList].[@CheckListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingList].[@BoardId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingList].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingList].[@ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[DateModified]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[CheckListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[BoardId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingList].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingList].[@ShoppingListId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingList].[@CheckListId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingList].[@BoardId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingList].[@Name]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingList].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1436" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateShoppingList]&#xD;&#xA;&#x9;  @ShoppingListId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @CheckListId&#x9;&#x9;&#x9;NVARCHAR(50)&#x9;= NULL&#xD;&#xA;&#x9;, @BoardId&#x9;&#x9;&#x9;&#x9;NVARCHAR(50)&#x9;= NULL&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(50)&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateShoppingListPrice]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT
		DECLARE @now						DATETIME			= GETDATE()

		IF NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[ShoppingListPrice]
			WHERE	[ShoppingListPriceId] = @ShoppingListPriceId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF NOT EXISTS
		(
			SELECT	1
			FROM	@Prices
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END


		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		INSERT [dbo].[ShoppingListProductPrice]
		(
			  [ShoppingListPriceId]
			, [ProductId]
			, [Comment]
			, [Quantity]
			, [Price]
		)
		SELECT	  @ShoppingListPriceId
				, [ProductId]
				, [Comment]
				, [Quantity]
				, [Price]
		FROM	@Prices p
		WHERE	NOT EXISTS
				(
					SELECT	1
					FROM	[dbo].[ShoppingListProductPrice] slpp
					WHERE	slpp.[ShoppingListPriceId] = @ShoppingListPriceId
					AND		slpp.[ProductId] = p.[ProductId]
				)

		UPDATE	slpp
		SET		  slpp.[Comment] = p.Comment
				, slpp.Quantity = p.Quantity
				, slpp.Price = p.Price
		FROM	[dbo].[ShoppingListProductPrice] slpp
				CROSS APPLY @Prices p
		WHERE	slpp.[ShoppingListPriceId] = @ShoppingListPriceId
		AND		slpp.[ProductId] = p.[ProductId]

		INSERT [dbo].[ShoppingListProductPrice]
		(
			  [ShoppingListPriceId]
			, [ProductId]
			, [Comment]
			, [Quantity]
			, [Price]
		)
		SELECT	@ShoppingListPriceId
				, [ProductId]
				, [Comment]
				, [Quantity]
				, [Price]
		FROM	@Prices p

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT
	
		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShoppingListPrice].[@Prices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[UpdateShoppingListPrice].[@Prices]" Disambiguator="15">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateShoppingListPrice].[@Prices].[ProductId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Comment]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="4000" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Quantity]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Price]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Scale" Value="6" />
												<Property Name="Precision" Value="18" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[decimal]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateShoppingListPrice].[@Prices].[Total]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Scale" Value="6" />
												<Property Name="Precision" Value="18" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[decimal]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingListPrice].[@ShoppingListPriceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingListPrice].[@Prices]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[UdtShoppingListProductPrice]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateShoppingListPrice].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2212" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateShoppingListPrice]&#xD;&#xA;&#x9;  @ShoppingListPriceId&#x9;&#x9;INT&#x9;&#xD;&#xA;&#x9;, @Prices&#x9;&#x9;&#x9;&#x9;&#x9;[dbo].[UdtShoppingListProductPrice]&#x9;READONLY&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateSuperMarket]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount				INT					= @@TRANCOUNT

		IF @SuperMarketId IS NULL AND @Name IS NULL
		BEGIN
			RETURN @ReturnCode
		END

		IF @SuperMarketId IS NOT NULL AND NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[SuperMarket] c
			WHERE	[SuperMarketId] = @SuperMarketId
		)
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION

		UPDATE	[dbo].[SuperMarket]
		SET		[Name] = ISNULL(@Name, [Name])
		WHERE	[SuperMarketId] = @SuperMarketId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateSuperMarket].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateSuperMarket].[@SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateSuperMarket].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SuperMarket].[SuperMarketId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateSuperMarket].[@SuperMarketId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateSuperMarket].[@Name]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateSuperMarket].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1183" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateSuperMarket]&#xD;&#xA;&#x9;  @SuperMarketId&#x9;INT&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;&#x9;NVARCHAR(255)&#x9;= NULL&#xD;&#xA;&#x9;, @ReturnCode&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateUom]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	--! Set output parameters.
	SET @ReturnCode = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @EntryTranCount		INT			= @@TRANCOUNT

		IF NULLIF(@Name,'') IS NULL
		BEGIN
			SET @ReturnCode = -1
			RETURN @ReturnCode
		END

		IF NOT EXISTS
		(
			SELECT	1
			FROM	[dbo].[Uom]
			WHERE	[UomId] = @UomId
		)
		BEGIN
			SET @ReturnCode = -2
			RETURN @ReturnCode
		END

		IF @EntryTranCount = 0 
			BEGIN TRANSACTION
			
		UPDATE	[dbo].[Uom]
		SET		[Name] = @Name
		WHERE	[UomId] = @UomId

		--! If we started the transaction then commit otherwise leave to caller.			
		IF @EntryTranCount = 0 
			COMMIT

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @proc_id = @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateUom].[@ReturnCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateUom].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateUom].[@UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Uom].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateUom].[@UomId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateUom].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateUom].[@ReturnCode]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1067" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateUom]&#xD;&#xA;&#x9;  @UomId&#x9;&#x9;INT&#xD;&#xA;&#x9;, @Name&#x9;&#x9;&#x9;NVARCHAR(50)&#xD;&#xA;&#x9;, @ReturnCode&#x9;INT&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlFullTextCatalog" Name="[FullTextCatalog_ProductSearch]">
			<Property Name="IsAccentSensitive" Value="False" />
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlSchema" Name="[internal]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[internal].[CatchHandler]">
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @me							SYSNAME				= OBJECT_SCHEMA_NAME(@proc_id) + '.' + OBJECT_NAME(@proc_id)					
		DECLARE @crlf						NCHAR(2)			= CHAR(13) + CHAR(10)
		DECLARE @msg						NVARCHAR(2048)
		DECLARE @severity					INT
		DECLARE @state						INT
		DECLARE @proc						SYSNAME
		DECLARE @errproc					SYSNAME
		DECLARE @lineno						INT
	           
	   --! Rollback if transaction in progress.
	   IF @@trancount > 0 ROLLBACK TRANSACTION

		SELECT	  @msg = ERROR_MESSAGE()
				, @severity = ERROR_SEVERITY()
				, @state  = ERROR_STATE()
				, @errno = ERROR_NUMBER()
				, @errproc = ERROR_PROCEDURE()
				, @lineno = ERROR_LINE()

		SELECT @proc = OBJECT_SCHEMA_NAME(@proc_id) + N'.' + OBJECT_NAME(@proc_id)
		SELECT @errmsg = @msg
		SELECT @errmsg_augmented = [internal].[FormatErrorMessage](@msg,@severity,@state,@errno,@errproc,@lineno,@proc)
	       
	END TRY

	BEGIN CATCH
	   --! Hopefully, this never occurs, but if it does, we try to produce both messages. 
	   SELECT @reraise = 1
	   SELECT @msg = @me + ERROR_MESSAGE() + @crlf + 'Original message: ' + @msg

	   --! Set ouptut variables if this has not been done.
	   IF @errmsg IS NULL SELECT @errmsg = @msg
	   IF @errmsg_augmented IS NULL SELECT @errmsg_augmented = @msg

	   -- Avoid new error if transaction is doomed.
	   IF xact_state() = -1 ROLLBACK TRANSACTION
	END CATCH

	--! Reaise if requested (or if an unexepected error occurred).
	IF @reraise = 1
		BEGIN
		   --! Adjust severity if needed; plain users cannot raise level 19.
		   IF @severity > 18 SELECT @severity = 18

		   --! Pass the message as a parameter to a parameter marker to avoid that
		   --! % chars cause problems.
		   RAISERROR('%s', @severity, @state, @errmsg_augmented)
		END
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@proc_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@errno]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@errmsg]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@errmsg_augmented]" />
				</Entry>
				<Entry>
					<References Name="[internal].[FormatErrorMessage]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler].[@reraise]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[CatchHandler].[@proc_id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[CatchHandler].[@reraise]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[CatchHandler].[@errno]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[CatchHandler].[@errmsg]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2048" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[CatchHandler].[@errmsg_augmented]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2048" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2195" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [internal].[CatchHandler]&#xD;&#xA;&#x9;  @proc_id&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#xD;&#xA;&#x9;, @reraise&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;BIT&#x9;&#x9;&#x9;&#x9;&#x9;= 1&#xD;&#xA;&#x9;, @errno&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUTPUT&#xD;&#xA;&#x9;, @errmsg&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(2048)&#x9;&#x9;= NULL&#x9;OUTPUT&#xD;&#xA;&#x9;, @errmsg_augmented&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(2048)&#x9;&#x9;= NULL&#x9;OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[ColumnExists]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[syscolumns]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[syscolumns].[name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ColumnExists].[@ColumnName]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[syscolumns].[id]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ColumnExists].[@ObjectName]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			CASE 
				WHEN EXISTS
						(
							SELECT	1 
							FROM	[sys].[syscolumns]
							WHERE	[name] = @ColumnName 
							 AND	[id] = OBJECT_ID(@ObjectName)
						)
					THEN 1
				ELSE 0
			END	
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="351" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[ColumnExists]&#xD;&#xA;(&#xD;&#xA;&#x9;  @ObjectName&#x9;SYSNAME&#xD;&#xA;&#x9;, @ColumnName&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ColumnExists].[@ObjectName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ColumnExists].[@ColumnName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[ExistsInShoppingList]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShoppingListProduct]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ShoppingListId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProduct].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExistsInShoppingList].[@ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			SELECT	TOP 1 slp.[ShoppingListId]
			FROM	[dbo].[ShoppingListProduct] slp
			WHERE	slp.[ProductId] = @ProductId
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="238" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[ExistsInShoppingList]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProductId&#x9;INT&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ExistsInShoppingList].[@ProductId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[ExtendedPropertyExists]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[extended_properties]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[extended_properties].[major_id]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExtendedPropertyExists].[@ObjectName]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[extended_properties].[name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExtendedPropertyExists].[@PropertyName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExtendedPropertyExists].[@ColumnName]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[extended_properties].[minor_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[syscolumns]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[syscolumns].[colid]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[syscolumns].[id]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[extended_properties].[major_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[syscolumns].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			CASE 
				WHEN EXISTS
						(
							SELECT	1 
							FROM	[sys].[extended_properties] ep
							WHERE	ep.[major_id] = OBJECT_ID(@ObjectName)
							 AND	ep.[name] = @PropertyName
							 AND	( ( @ColumnName IS NULL
									AND	ep.[minor_id] = 0
									  )
								OR	  ep.[minor_id] = 
										(
											SELECT	sc.[colid]
											FROM	[sys].[syscolumns] sc
											WHERE	sc.[id] = ep.[major_id]
											 AND	sc.[name] = @ColumnName
										)
									)
						)
					THEN 1
				ELSE 0
			END	
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="719" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[ExtendedPropertyExists]&#xD;&#xA;(&#xD;&#xA;&#x9;  @ObjectName&#x9;&#x9;SYSNAME&#xD;&#xA;&#x9;, @PropertyName&#x9;&#x9;SYSNAME&#xD;&#xA;&#x9;, @ColumnName&#x9;&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ExtendedPropertyExists].[@ObjectName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ExtendedPropertyExists].[@PropertyName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ExtendedPropertyExists].[@ColumnName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[internal].[find_products]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[udf_full_text_search_string]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[@search_text]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[@category_id]" />
				</Entry>
				<Entry>
					<References Name="[internal].[find_products].[@area_Id]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[PriceUomId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[find_products].[ProductId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[internal].[udf_find_products_matching_keywords].[ProductId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[find_products].[CategoryId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[internal].[udf_find_products_matching_keywords].[CategoryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[find_products].[AreaId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[internal].[udf_find_products_matching_keywords].[AreaId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[find_products].[Name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[internal].[udf_find_products_matching_keywords].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[find_products].[IsShipped]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[internal].[udf_find_products_matching_keywords].[IsShipped]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[find_products].[UomId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[internal].[udf_find_products_matching_keywords].[UomId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[find_products].[PriceUomId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[internal].[udf_find_products_matching_keywords].[PriceUomId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT	  p.[ProductId]
			, p.[CategoryId]
			, p.[AreaId]
			, p.[Name]
			, p.[IsShipped]
			, p.[UomId]
			, p.[PriceUomId]
	FROM	[internal].[udf_find_products_matching_keywords]
			(
				[internal].[udf_full_text_search_string](@search_text)
				, @category_id
				, @area_Id
			) p
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="455" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[find_products]&#xD;&#xA;(&#xD;&#xA;&#x9;  @search_text&#x9;&#x9;NVARCHAR(4000)&#xD;&#xA;&#x9;, @category_id&#x9;&#x9;INT&#xD;&#xA;&#x9;, @area_Id&#x9;&#x9;&#x9;INT&#x9;&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[find_products].[@search_text]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[find_products].[@category_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[find_products].[@area_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[FormatErrorMessage]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[FormatErrorMessage].[@errmsg]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[internal].[FormatErrorMessage].[@proc]" />
				</Entry>
				<Entry>
					<References Name="[internal].[FormatErrorMessage].[@lineno]" />
				</Entry>
				<Entry>
					<References Name="[internal].[FormatErrorMessage].[@errno]" />
				</Entry>
				<Entry>
					<References Name="[internal].[FormatErrorMessage].[@errproc]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			CASE 
				WHEN @errmsg LIKE CONVERT(NVARCHAR(2048),'***%')                                     
					THEN '*** ' + COALESCE(QUOTENAME(@proc), '<dynamic SQL>') + ', Line ' + LTRIM(STR(@lineno)) + '. Errno ' + LTRIM(STR(@errno)) + ': ' + CHAR(10) + @errmsg
				ELSE '*** ' + COALESCE(QUOTENAME(@errproc), QUOTENAME(@proc), '<dynamic SQL>') + ', Line ' + LTRIM(STR(@lineno)) + '. Errno ' + LTRIM(STR(@errno)) + ': ' + @errmsg
			END
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="731" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[FormatErrorMessage]&#xD;&#xA;(&#xD;&#xA;&#x9;  @errmsg&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(2048)&#xD;&#xA;&#x9;, @severity&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#xD;&#xA;&#x9;, @state&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @errno&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @errproc&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SYSNAME&#xD;&#xA;&#x9;, @lineno&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @proc&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS NVARCHAR(2048)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[FormatErrorMessage].[@errmsg]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2048" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[FormatErrorMessage].[@severity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[FormatErrorMessage].[@state]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[FormatErrorMessage].[@errno]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[FormatErrorMessage].[@errproc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[FormatErrorMessage].[@lineno]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[FormatErrorMessage].[@proc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="2048" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[internal].[GetModifiedCode]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[schemas]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[schemas].[schema_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[schema_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[schemas].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[type]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[create_date]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[modify_date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[GetModifiedCode].[SchemaName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="master.dacpac" Name="[master]|[sys].[schemas].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[GetModifiedCode].[ObjectName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[GetModifiedCode].[type]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[type]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[GetModifiedCode].[create_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[create_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[GetModifiedCode].[modify_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="master.dacpac" Name="[master]|[sys].[objects].[modify_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT	
				  s.[name] AS [SchemaName]
				, o.[name] AS [ObjectName]
				, o.[type]
				, o.[create_date]
				, o.[modify_date]
		FROM	[sys].[objects] o
				INNER JOIN [sys].[schemas] s
					ON	s.[schema_id] = o.[schema_id]
		WHERE	o.[type] in ( 'FN' , 'FS', 'FT', 'IF' , 'P', 'PC', 'TA', 'TF', 'TR', 'X' )
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="400" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[GetModifiedCode]&#xD;&#xA;(&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[GetPopulateSetting]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime2]" />
				</Entry>
				<Entry>
					<References Name="[internal].[GetSetting]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			SELECT CONVERT(DATETIME2,[internal].[GetSetting](N'Populate'))
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="174" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[GetPopulateSetting]&#xD;&#xA;(&#xD;&#xA;)&#xD;&#xA;RETURNS DATETIME2&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Scale" Value="7" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime2]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[GetSetting]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Settings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Settings].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Settings].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[GetSetting].[@Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			SELECT
						s.[Value] 
				FROM	[dbo].[Settings] s
				WHERE	s.[Name] = @Name
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="210" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[GetSetting]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name&#x9;NVARCHAR(50)&#xD;&#xA;)&#xD;&#xA;RETURNS NVARCHAR(500)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[GetSetting].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="500" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[IndexExists]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[IndexExists].[@ObjectName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[IndexExists].[@IndexName]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			CASE 
				WHEN INDEXPROPERTY(OBJECT_ID(@ObjectName),@IndexName,'IndexID') IS NOT NULL
					THEN 1
				ELSE 0
			END	
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="266" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[IndexExists]&#xD;&#xA;(&#xD;&#xA;&#x9;  @ObjectName&#x9;SYSNAME&#xD;&#xA;&#x9;, @IndexName&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[IndexExists].[@ObjectName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[IndexExists].[@IndexName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[internal].[LongPrint]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Locals.
		DECLARE @entry_tran_count			INT					= @@TRANCOUNT
		DECLARE @me							NVARCHAR(50)		= OBJECT_SCHEMA_NAME(@@PROCID) + '.' + OBJECT_NAME(@@PROCID)				
		DECLARE @current_end				BIGINT								--! track the length of the next substring
		DECLARE @offset						TINYINT								--! tracks the amount of offset needed

		SET @string = REPLACE(REPLACE(@string, CHAR(13) + CHAR(10), CHAR(10)) , CHAR(13), CHAR(10))

		WHILE LEN(@string) > 1 
			BEGIN
				IF CHARINDEX(CHAR(10), @string) BETWEEN 1 AND 4000
					BEGIN
						SET @current_end = CHARINDEX(CHAR(10), @string) - 1
						SET @offset = 2
					END
				ELSE
					BEGIN
						SET @current_end = 4000
						SET @offset = 1
					END   
 
				PRINT SUBSTRING(@string, 1, @current_end) 
 
				SET @string = SUBSTRING(@string, @current_end+@offset, 1073741822)   
			END
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[CatchHandler] @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[tinyint]" />
				</Entry>
				<Entry>
					<References Name="[internal].[LongPrint].[@String]" />
				</Entry>
				<Entry>
					<References Name="[internal].[CatchHandler]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[LongPrint].[@String]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1223" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [internal].[LongPrint]&#xD;&#xA;&#x9;  @String&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(MAX)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[ObjectExists]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[ObjectExists].[@ObjectType]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ObjectExists].[@ObjectName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[triggers]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[triggers].[name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName].[ObjectName]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			CASE 
				WHEN @ObjectType = 'TR' AND (SELECT @@VERSION) LIKE '%SQL Server 2008%'
					THEN
						CASE 
							WHEN EXISTS
									(
										SELECT	1 
										FROM	[internal].[SplitObjectName](@ObjectName) n
												INNER JOIN [sys].[triggers] t
													ON	t.[name] = n.[ObjectName]
									)
								THEN 1
							ELSE 0
						END	
				WHEN OBJECT_ID(@ObjectName,@ObjectType) IS NOT NULL
					THEN 1
				ELSE 0
			END	
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="599" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[ObjectExists]&#xD;&#xA;(&#xD;&#xA;&#x9;  @ObjectName&#x9;SYSNAME&#xD;&#xA;&#x9;, @ObjectType&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ObjectExists].[@ObjectName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ObjectExists].[@ObjectType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[ProductsJson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ExistsInShoppingList]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ProductsJson].[@IncludeProducts]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ProductsJson].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ProductsJson].[@AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[AreaId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN 
	(
		SELECT	  P.[ProductId]
				, p.[Name]
				, [ShoppingListId] = [internal].[ExistsInShoppingList](p.[ProductId])
		FROM	[dbo].[Product] p
		WHERE	@IncludeProducts = 1
		AND		(
					(
						@CategoryId IS NOT NULL
						AND	p.[CategoryId] = @CategoryId
					)
				OR 
					(
						@AreaId IS NOT NULL
						AND	p.[AreaId] = @AreaId
					)
				)
		ORDER BY p.[Name]
				FOR JSON PATH
	)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="576" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[ProductsJson]&#xD;&#xA;(&#xD;&#xA;&#x9;  @CategoryId&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @AreaId&#x9;&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @IncludeProducts&#x9;&#x9;BIT = 0&#xD;&#xA;)&#xD;&#xA;RETURNS NVARCHAR(MAX)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ProductsJson].[@CategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ProductsJson].[@AreaId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ProductsJson].[@IncludeProducts]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[internal].[SetSetting]">
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	--! Set output parameters.
	SET @return_code = 0

	BEGIN TRY
		--! Reduce unnecessary network traffic and force rollback and aborting upon any error.
		SET NOCOUNT ON
		SET XACT_ABORT ON

		--! Save requested setting.
		UPDATE s
			SET		value = @value
			FROM	[dbo].[Settings] s
			WHERE	s.[name] = @name

		--! Insert if not present.
		IF @@ROWCOUNT < 1
			BEGIN
				INSERT INTO [dbo].[settings]
					(
							  [name]
							, [value]
					)
					VALUES
					(
							  @name
							, @value
					)
			END

		--! Return success.
		RETURN 0
	END TRY

	BEGIN CATCH
		IF @@trancount > 0 ROLLBACK TRANSACTION
		EXEC [internal].[catch_handler] @@PROCID
		RETURN 55555
	END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[SetSetting].[@return_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Settings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Settings].[Value]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SetSetting].[@value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Settings].[Name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SetSetting].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Settings].[Name]" />
				</Entry>
				<Entry />
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[SetSetting].[@name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[SetSetting].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[SetSetting].[@return_code]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="876" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [internal].[SetSetting]&#xD;&#xA;&#x9;  @name&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(50)&#xD;&#xA;&#x9;, @value&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(500)&#xD;&#xA;&#x9;, @return_code&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INT&#x9;&#x9;&#x9;&#x9;= NULL&#x9;OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[ShoppingListProductPriceJson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[Price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ShoppingListProductPriceJson].[@ShoppingListPriceId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[ShoppingListProductPriceJson].[@IncludePrices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShoppingListProductPrice].[ProductId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN 
	(
		SELECT	  P.[ShoppingListPriceId]
				, P.[ProductId]
				, p.[Comment]
				, p.[Quantity]
				, p.[Price]
		FROM	[dbo].[ShoppingListProductPrice] p
		WHERE	[ShoppingListPriceId] = @ShoppingListPriceId
		AND		@IncludePrices = 1
		ORDER BY p.[ProductId]
				FOR JSON PATH
	)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="462" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[ShoppingListProductPriceJson]&#xD;&#xA;(&#xD;&#xA;&#x9;  @ShoppingListPriceId&#x9;&#x9;INT&#x9;&#xD;&#xA;&#x9;, @IncludePrices&#x9;&#x9;&#x9;BIT = 0&#xD;&#xA;)&#xD;&#xA;RETURNS NVARCHAR(MAX)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ShoppingListProductPriceJson].[@ShoppingListPriceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[ShoppingListProductPriceJson].[@IncludePrices]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[internal].[SplitObjectName]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[SplitObjectName].[@ObjectName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[SplitObjectName].[SchemaName]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[SplitObjectName].[ObjectName]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
				  [SchemaName] = 
					CASE
						WHEN CHARINDEX('[', sch.[SchemaName]) > 0
							THEN SUBSTRING(sch.[SchemaName],2,LEN(sch.[SchemaName]) - 2)
						ELSE sch.[SchemaName]
					END
				, [ObjectName] =
					CASE
						WHEN CHARINDEX('[', obj.[ObjectName]) > 0
							THEN SUBSTRING(obj.[ObjectName],2,LEN(obj.[ObjectName]) - 2)
						ELSE obj.[ObjectName]
					END	
		FROM	(
					SELECT [ObjectName] = REPLACE(LTRIM(RTRIM(@ObjectName)),'''','')
				) clean
				CROSS APPLY
				(
					SELECT	[SchemaName] =
								CASE
									WHEN CHARINDEX('.', clean.[ObjectName]) > 0
										THEN SUBSTRING(clean.[ObjectName],1,CHARINDEX('.', clean.[ObjectName]) - 1)
									ELSE NULL
								END
				) sch
				CROSS APPLY
				(
					SELECT	[ObjectName] =
								CASE
									WHEN CHARINDEX('.', clean.[ObjectName]) > 0
										THEN SUBSTRING(clean.[ObjectName],CHARINDEX('.', clean.[ObjectName]) + 1,LEN(clean.[ObjectName]))
									ELSE clean.[ObjectName]
								END
				) obj
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1128" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[SplitObjectName]&#xD;&#xA;(&#xD;&#xA;&#x9;  @ObjectName&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[SplitObjectName].[@ObjectName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[TypeExists]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[TypeExists].[@ObjectName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[schemas]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[schemas].[name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName].[SchemaName]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[types]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[types].[name]" />
				</Entry>
				<Entry>
					<References Name="[internal].[SplitObjectName].[ObjectName]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[types].[schema_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[schemas].[schema_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[types].[is_table_type]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[types].[is_user_defined]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			CASE 
				WHEN EXISTS
						(
							SELECT	1 
							FROM	[internal].[SplitObjectName](@ObjectName) n
									INNER JOIN [sys].[schemas] s
										ON	s.[name] = n.[SchemaName]
									INNER JOIN [sys].[types] t
										ON	t.[name] = n.[ObjectName] 
										AND	t.[schema_id] = s.[schema_id]
							WHERE	[is_table_type] = 1
							 AND	[is_user_defined] = 1
						)
					THEN 1
				ELSE 0
			END	
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="542" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[TypeExists]&#xD;&#xA;(&#xD;&#xA;&#x9;  @ObjectName&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[TypeExists].[@ObjectName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[udf_count_string_occurrences]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[udf_count_string_occurrences].[@search_string]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_count_string_occurrences].[@search_char]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			SELECT	LEN(ISNULL(@search_string,'')) - LEN(REPLACE(ISNULL(@search_string,''),ISNULL(@search_char,''),''))
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="262" />
							<Property Name="Length" Value="542" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="&#xD;&#xA;/*&#xD;&#xA; * Purpose&#xD;&#xA; *&#x9;&#x9;Count the number of occurrence of a character in a string&#xD;&#xA; * Information&#xD;&#xA; * History&#xD;&#xA; *&#x9;&#x9;Date&#x9;&#x9;Person&#x9;&#x9;Change&#xD;&#xA; *&#x9;&#x9;-----------&#x9;-----------&#x9;------------------------------------------------&#xD;&#xA; *&#x9;&#x9;02 Dec 2021&#x9;John&#x9;&#x9;MP-7022 - Created.&#xD;&#xA; */&#xD;&#xA;&#xD;&#xA;CREATE FUNCTION [internal].[udf_count_string_occurrences]&#xD;&#xA;(&#xD;&#xA;&#x9;@search_char&#x9;&#x9;CHAR(1),&#xD;&#xA;&#x9;@search_string&#x9;&#x9;NVARCHAR(4000)&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_count_string_occurrences].[@search_char]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_count_string_occurrences].[@search_string]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[internal].[udf_find_products_matching_keywords]">
			<Property Name="ReturnTableVariable" Value="@result" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[@search_text]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" Disambiguator="11" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[AreaId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[IsShipped]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[UomId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[PriceUomId]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[@category_id]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_find_products_matching_keywords].[@area_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[internal].[udf_find_products_matching_keywords].[ProductId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[internal].[udf_find_products_matching_keywords].[CategoryId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[internal].[udf_find_products_matching_keywords].[AreaId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[internal].[udf_find_products_matching_keywords].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[internal].[udf_find_products_matching_keywords].[IsShipped]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[internal].[udf_find_products_matching_keywords].[UomId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[internal].[udf_find_products_matching_keywords].[PriceUomId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	IF (NULLIF(LTRIM(RTRIM(@search_text)),N'') IS NULL)
	BEGIN
		INSERT INTO @result
			SELECT	  p.[ProductId]
					, p.[CategoryId]
					, p.[AreaId]
					, p.[Name]
					, p.[IsShipped]
					, p.[UomId]
					, p.[PriceUomId]
			FROM	[dbo].[Product] p
			WHERE	p.[CategoryId] = ISNULL(@category_id,p.[CategoryId])
			AND		p.[AreaId] = ISNULL(@area_Id,p.[AreaId])
	END
	ELSE
	BEGIN
		IF (NULLIF(LTRIM(RTRIM(@search_text)),N'') IS NULL)
			SET @search_text = '*'

		INSERT INTO @result
			SELECT	  p.[ProductId]
					, p.[CategoryId]
					, p.[AreaId]
					, p.[Name]
					, p.[IsShipped]
					, p.[UomId]
					, p.[PriceUomId]
			FROM	[dbo].[Product] p
			WHERE	p.[CategoryId] = ISNULL(@category_id,p.[CategoryId])
			AND		p.[AreaId] = ISNULL(@area_Id,p.[AreaId])
			AND		CONTAINS(Name,@search_text)			
	END
	RETURN;
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="341" />
							<Property Name="Length" Value="1530" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="&#xD;&#xA;/*&#xD;&#xA; * Purpose&#xD;&#xA; *&#x9;&#x9;Locate products matching keywords supplied.&#xD;&#xA; * Information&#xD;&#xA; * Return Codes&#xD;&#xA; *&#x9;&#x9; 0&#x9;- success&#xD;&#xA; *&#x9;&#x9;-1&#x9;- one or more required parameters not supplied with value&#xD;&#xA; *&#x9;&#x9;&gt;0&#x9;- SQL Server error number&#xD;&#xA; * History&#xD;&#xA; *&#x9;&#x9;Date&#x9;&#x9;Person&#x9;&#x9;Change&#xD;&#xA; *&#x9;&#x9;-----------&#x9;-----------&#x9;------------------------------------------------&#xD;&#xA; */&#xD;&#xA;&#xD;&#xA;CREATE FUNCTION [internal].[udf_find_products_matching_keywords]&#xD;&#xA;(&#xD;&#xA;&#x9;  @search_text&#x9;&#x9;&#x9;NVARCHAR(4000)&#xD;&#xA;&#x9;, @category_id&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, @area_Id&#x9;&#x9;&#x9;INT&#x9;&#xD;&#xA;)&#xD;&#xA;RETURNS @result TABLE&#xD;&#xA;(&#xD;&#xA;&#x9;  [ProductId]&#x9;&#x9;INT&#xD;&#xA;&#x9;, [CategoryId]&#x9;&#x9;INT&#xD;&#xA;&#x9;, [AreaId]&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, [Name]&#x9;&#x9;&#x9;NVARCHAR(255)&#xD;&#xA;&#x9;, [IsShipped]&#x9;&#x9;BIT&#xD;&#xA;&#x9;, [UomId]&#x9;&#x9;&#x9;INT&#xD;&#xA;&#x9;, [PriceUomId]&#x9;&#x9;INT&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_find_products_matching_keywords].[@search_text]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_find_products_matching_keywords].[@category_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_find_products_matching_keywords].[@area_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[udf_full_text_search_string]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_count_string_occurrences]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_full_text_search_string].[@search_string]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_split_text_to_table]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_split_text_to_table].[value]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[internal].[udf_full_text_search_string].[CTE1].[SearchTokens]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[internal].[udf_full_text_search_string].[CTE1].[SearchTokens].[Token]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[internal].[udf_split_text_to_table].[value]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ 
BEGIN
	DECLARE @near_string				NVARCHAR(MAX)
	DECLARE @inflectional_string		NVARCHAR(MAX)
	DECLARE @result_string			NVARCHAR(MAX)

	--! remove " if more than 2. Causes too many problems
	IF [internal].[udf_count_string_occurrences]('"', @search_string) > 2
		BEGIN
			SELECT @search_string = REPLACE(@search_string,'"','')
		END

	;WITH SearchTokens AS
		(
			SELECT	Token = [value]
			FROM	[internal].[udf_split_text_to_table](@search_string,N' ')
		)
	SELECT	  @near_string = 
				CASE
					WHEN [internal].[udf_count_string_occurrences]('"', @search_string) > 0
						THEN N''
					ELSE
						COALESCE(@near_string + N' , ',N'') + 
						N'"' + 
						Token + 
						N'*"'
				END
			, @inflectional_string = 
				CASE
					WHEN [internal].[udf_count_string_occurrences]('"', @search_string) > 0
						THEN N''
					ELSE
						COALESCE(@inflectional_string,N'') + 
						CASE 
							WHEN LEN(Token) = 1 AND PATINDEX(N'%[a-zA-Z]%',Token) > 0 
								THEN N'' 
							WHEN PATINDEX(N'%[^a-zA-Z0-9-]%',Token) > 0 
								THEN N'' 
							ELSE 
								CASE 
									WHEN LEN(@inflectional_string) > 1 
										THEN N' AND FORMSOF(INFLECTIONAL,"' + Token + N'")' 
									ELSE N'FORMSOF(INFLECTIONAL,"' + Token + N'")' 
								END 
					END
				END
			, @result_string = 
				CASE
					WHEN [internal].[udf_count_string_occurrences]('"', @search_string) = 2
						THEN @search_string
					ELSE N''
				END
	FROM	SearchTokens

	RETURN	
		CASE
			WHEN LEN(@result_string) > 0
				THEN @result_string
			ELSE
				N''
		END
		+
		CASE
			WHEN @near_string = N'' 
				THEN N''
			ELSE
				CASE 
					WHEN CHARINDEX(N',',@near_string) > 0 
						THEN N'NEAR' 
					ELSE N'' 
				END + N'(' + @near_string + N')'
		END
		+ 
		CASE 
			WHEN @inflectional_string = N'' 
				THEN N'' 
			ELSE N' OR (' + @inflectional_string + N')' 
		END
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="1293" />
							<Property Name="Length" Value="3339" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="/*&#xD;&#xA; * Purpose&#xD;&#xA; *&#x9;&#x9;Turn space delimited search string into CONTAINSTABLE search parameter.&#xD;&#xA; * Information&#xD;&#xA; *&#x9;&#x9;Splits string into space delimited tokens and then build two search clauses&#xD;&#xA; *&#x9;&#x9;for the use in a CONTAINSTABLE call. First adds wildcard to each non-numeric token and &#xD;&#xA; *&#x9;&#x9;then uses near option across all tokens. Second uses inflectional FORMSOF to embellish&#xD;&#xA; *&#x9;&#x9;token(s) provided - without any wildcarding.&#xD;&#xA; * Limitations&#xD;&#xA; *&#x9;&#x9;Full text searching cannot find special characters therefore remove any double &#xD;&#xA; *&#x9;&#x9;quote from search string. Also any single character tokens or non-alphanumeric tokens &#xD;&#xA; *&#x9;&#x9;are removed from inflectional checking.&#xD;&#xA; * Examples&#xD;&#xA; *&#x9;&#x9;Example 1: 'ice tea' becomes '(&quot;ice*&quot; NEAR &quot;tea*&quot;) OR (FORMSOF(INFLECTIONAL,&quot;ice&quot;) AND FORMSOF(INFLECTIONAL,&quot;tea&quot;))'&#xD;&#xA; *&#x9;&#x9;Example 2: 'pasta spaghetti #5' becomes '(&quot;Pasta*&quot; NEAR &quot;Spaghetti*&quot; NEAR &quot;#5*&quot;) OR (FORMSOF(INFLECTIONAL,&quot;Pasta&quot;) AND FORMSOF(INFLECTIONAL,&quot;Spaghetti&quot;))'&#xD;&#xA; *&#x9;&#x9;Example 3: 'tort miss 6' becomes '(&quot;tort*&quot; NEAR &quot;miss*&quot; NEAR &quot;6*&quot;) OR (FORMSOF(INFLECTIONAL,&quot;tort&quot;) AND FORMSOF(INFLECTIONAL,&quot;miss&quot;) AND FORMSOF(INFLECTIONAL,&quot;6&quot;))'&#xD;&#xA; * History&#xD;&#xA; *&#x9;&#x9;Date&#x9;&#x9;Person&#x9;&#x9;Change&#xD;&#xA; *&#x9;&#x9;-----------&#x9;-----------&#x9;------------------------------------------------&#xD;&#xA; *&#x9;&#x9;02 Dec 2021&#x9;John&#x9;&#x9;MP-7022 - Created.&#xD;&#xA; */&#xD;&#xA;&#xD;&#xA;CREATE FUNCTION [internal].[udf_full_text_search_string]&#xD;&#xA;(&#xD;&#xA;&#x9;  @search_string&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(255)&#xD;&#xA;)&#xD;&#xA;RETURNS NVARCHAR(4000)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_full_text_search_string].[@search_string]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="4000" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[internal].[udf_split_text_to_table]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[xml]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_split_text_to_table].[@text_string]" />
				</Entry>
				<Entry>
					<References Name="[internal].[udf_split_text_to_table].[@delimiter]" />
				</Entry>
				<Entry />
				<Entry />
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[udf_split_text_to_table].[value]">
						<Relationship Name="ExpressionDependencies">
							<Entry />
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[udf_split_text_to_table].[position]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[internal].[udf_split_text_to_table].[CTE1].[XMLString]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[internal].[udf_split_text_to_table].[CTE1].[XMLString].[XMLString]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	WITH XMLString AS 
		(
			SELECT CAST('<Token>' + REPLACE(REPLACE(REPLACE(REPLACE(NULLIF(@text_string,N''), N'&', N'&amp;'), N'<', N'&lt;'), N'>', N'&gt;') , @delimiter, '</Token><Token>') + '</Token>' AS XML) AS 'XMLString'
		)
	SELECT
			  [value] = c.value('.', 'NVARCHAR(255)')
			, [position] = ROW_NUMBER() OVER (ORDER BY c.value('count(.)', 'INT'))
	FROM	XMLString
			CROSS APPLY	XMLString.nodes('/Token') AS t(c)
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="646" />
							<Property Name="Length" Value="1234" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="&#xD;&#xA;/*&#xD;&#xA; * Purpose&#xD;&#xA; *&#x9;&#x9;Split string into separate tokens based on delimiter provided. &#xD;&#xA; * Information&#xD;&#xA; *&#x9;&#x9;Returns one row per token along with token location within string &#xD;&#xA; *&#x9;&#x9;starting at 1 for first.&#xD;&#xA; *&#x9;&#x9;Routine is an inline table valued function and uses XML, rather than &#xD;&#xA; *&#x9;&#x9;recursive CTE or looping, for speed.&#xD;&#xA; *&#x9;&#x9;Replaces the XML escape character &quot;&amp;&quot; with explicit value &quot;&amp;amp;&quot; to prevent&#xD;&#xA; *&#x9;&#x9;XML parsing errors.&#xD;&#xA; * History&#xD;&#xA; *&#x9;&#x9;Date&#x9;&#x9;Person&#x9;&#x9;Change&#xD;&#xA; *&#x9;&#x9;-----------&#x9;-----------&#x9;------------------------------------------------&#xD;&#xA; *&#x9;&#x9;14 Aug 2019&#x9;Ian&#x9;&#x9;&#x9;MP-1750 - created.&#xD;&#xA; *&#x9;&#x9;02 Dec 2021&#x9;John&#x9;&#x9;MP-7022 - cater for &lt; and &gt;.&#xD;&#xA; */&#xD;&#xA;&#xD;&#xA;CREATE FUNCTION [internal].[udf_split_text_to_table] &#xD;&#xA;(&#xD;&#xA;&#x9;  @text_string&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NVARCHAR(MAX)&#xD;&#xA;&#x9;, @delimiter&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NCHAR(1)&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_split_text_to_table].[@text_string]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[udf_split_text_to_table].[@delimiter]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[internal].[UdfGetObjectName]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[internal].[UdfGetObjectName].[@SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[UdfGetObjectName].[@TableName]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN
		(
			SELECT ISNULL('[' + @SchemaName + '].[','[') + @TableName + ']'
		)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="220" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[UdfGetObjectName]&#xD;&#xA;(&#xD;&#xA;&#x9;  @SchemaName&#x9;&#x9;SYSNAME&#xD;&#xA;&#x9;, @TableName&#x9;&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS SYSNAME&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[UdfGetObjectName].[@SchemaName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[UdfGetObjectName].[@TableName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[internal].[UdfGetStaticDataStatement]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[admin].[StaticData]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataStatements]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataStatements].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[StaticDataId]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticDataStatements].[Statement]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[UdfGetStaticDataStatement].[@SchemaName]" />
				</Entry>
				<Entry>
					<References Name="[admin].[StaticData].[TableName]" />
				</Entry>
				<Entry>
					<References Name="[internal].[UdfGetStaticDataStatement].[@TableName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[internal].[UdfGetStaticDataStatement].[Statement]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[admin].[StaticDataStatements].[Statement]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
(
	SELECT
			  sds.[Statement]
	FROM	[Admin].[StaticData] sd
			INNER JOIN [Admin].[StaticDataStatements] sds
				ON	sds.[StaticDataId] = sd.[StaticDataId]
	WHERE	sd.[SchemaName] = ISNULL(@SchemaName,sd.[SchemaName])
	 AND	sd.[TableName] = ISNULL(@TableName,sd.[TableName])
)]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="417" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [internal].[UdfGetStaticDataStatement]&#xD;&#xA;(&#xD;&#xA;&#x9;  @SchemaName&#x9;SYSNAME&#xD;&#xA;&#x9;, @TableName&#x9;SYSNAME&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE AS RETURN" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[UdfGetStaticDataStatement].[@SchemaName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[internal].[UdfGetStaticDataStatement].[@TableName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[internal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlFullTextStopList" Name="[ProductSearch]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>